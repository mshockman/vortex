{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/loader.js","webpack:///./src/menus/Menu.js","webpack:///./src/menus/core.js","webpack:///./src/menus/index.js","webpack:///./src/menus/loaders.js","webpack:///./src/utility.js","webpack:///external \"jQuery\""],"names":["Loader","init","classes","parse","bind","name","func","hasOwnProperty","Error","section","find","addBack","each","x","element","getAttribute","split","c","target","error","TypeError","message","fn","loader","register","POSITIONER_REGISTRY","menuTemplate","Menu","timeout","closeOnBlur","closeOnSelect","positioner","role","_onMouseOver","onMouseOver","_onMouseOut","onMouseOut","_onClick","onClick","_onSelect","onSelect","_onDocumentClick","onDocumentClick","setElement","config","key","undefined","$element","data","destroy","CONTROLLER","on","EVENTS","select","off","$doc","selector","appendTo","node","delay","activate","parent","getParentNode","type","getNodeType","length","isActive","addClass","CLASSNAMES","active","trigger","getMultiple","getActiveChildren","not","item","deactivate","submenu","getItemSubMenu","openMenu","getMenuOpenDelay","is","document","activateTimer","cancel","r","Promise","Number","isFinite","timer","setTimeout","resolve","clearTimeout","removeClass","child","closeMenu","$parentMenu","menu","isOpen","open","getPositioner","openTimer","close","getChildMenuItems","children","SELECTORS","menuitem","filter","eq","closest","all","hasClass","disabled","dropdown","event","isDisabled","$target","getClosestNode","isMenuItem","_onClickMenuItem","isMenu","_onClickMenu","_timer","contains","relatedTarget","_onMouseOverMenuItem","_onMouseOverMenu","_onMouseOutMenuItem","_onMouseOutMenu","$parent","toggle","getItemToggle","getSelectable","window","t","console","dir","log","getItemActivationDelay","then","isDropDown","value","isParentActive","parseInt","isNaN","PREFIX","addRole","removeRole","hasRoles","getRoles","$","roles","i","indexOf","push","join","attr","splice","autoActivate","clamp","firstValue","parseInteger","parseBoolean","parseBooleanString","parseBooleanOrNumber","setDefaultValues","nill","minValue","maxValue","args","defaultValue","radix","defaults"],"mappings":"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","file":"menu.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import './menus';\r\nimport Loader from './loader';\r\n\r\nLoader.init();","import $ from 'jquery';\r\n\r\n\r\nexport default class Loader {\r\n    static loader = null;\r\n\r\n    constructor() {\r\n        this.classes = {};\r\n    }\r\n\r\n    init() {\r\n        $(this.parse.bind(this));\r\n    }\r\n\r\n    register(name, func) {\r\n        if(this.classes.hasOwnProperty(name) && this.classes[name]) {\r\n            throw new Error(\"Auto Loading name conflict.\");\r\n        }\r\n\r\n        this.classes[name] = func;\r\n    }\r\n\r\n    parse(section=null) {\r\n        if(section === null) {\r\n            section = $(\"[data-init]\");\r\n        } else {\r\n            section = $(section).find(\"[data-init]\").addBack(\"[data-init]\");\r\n        }\r\n\r\n        section.each((x, element) => {\r\n            const classes = element.getAttribute(\"data-init\").split(/\\s+/);\r\n\r\n            for(let c of classes) {\r\n                if(c) {\r\n                    try {\r\n                        this.classes[c]({target: element});\r\n                    } catch(error) {\r\n                        if(error instanceof TypeError && error.message === 'Cannot call a class as a function') {\r\n                            new this.classes[c]({target: element});\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    static register(name, fn) {\r\n        return this.loader.register(name, fn);\r\n    }\r\n\r\n    static init() {\r\n        return this.loader.init();\r\n    }\r\n}\r\n\r\n\r\nLoader.loader = new Loader();\r\n","/**\r\n * Package for create menus.\r\n *\r\n * Menus are defined and controlled using their dom structure.  Attributes are stored on the individual nodes and are\r\n * accessed and retrieved using jQueries data method.  So you can use manual data-attribute html attributes in your code\r\n * or programmically assign attributes using the data method.\r\n *\r\n * All events are attached to the root element of the menu.  Any incoming events are delegated from their to the\r\n * necessary menu nodes if needed.\r\n *\r\n * The data-role attribute determines what kind of menu node an element is.  When looking for child and parent nodes\r\n * any element that isn't marked with a data-role attribute is ignored.  Their are three types of nodes in the menu.\r\n * Those nodes are:\r\n *\r\n * - menu;\r\n * - item;\r\n * - dropdown;\r\n *\r\n * A menu is a collection of dropdown items and items.  A dropdown will add another layer to the menu tree.  An item\r\n * is a selectable item and shouldn't have a submenu.\r\n *\r\n * There are three places where attributes can be set.  On the root element, on the menu elements or on the item elements.\r\n * Each of these nodes have different attributes that can be modified.  Some attributes are inherited from their parents\r\n * if they are not manually set on child element.  All attributes come with sensible defaults.\r\n *\r\n * Root attribute\r\n * - closeOnSelect\r\n * - closeOnBlur\r\n * - timeout\r\n * - positioner\r\n *\r\n * Menu attributes\r\n * - openDelay {Number} Default 0\r\n *   Adds a delay after an item activates before it shows it's menu.\r\n * - multiple {boolean} Default false\r\n *   If true multiple items can be active at the same time for the menu.\r\n * - autoActivate {Number|boolean} Default true\r\n *   Controls if child items activate when the mouse moves over them when the menu is not active.  This is mostly used\r\n *   for root elements because most of the time menus are hidden when they are not active so child items cannot be hovered\r\n *   over.  If a number greater than or equal to 0 The item will activate after the given amount of time in milliseconds.\r\n *   If true if item will activate instantly.  If anything else the item will never activate on mouse over.\r\n *   This can be overidden by autoActivate at the item level.\r\n * - itemDelay {Number|boolean} Default 0\r\n *   Controls if child items activate when the mouse moves over them when the menu is already active.  If >= 0 the item\r\n *   will activate after the given amount of time.  If true if item will never activate.  This attribute can be overridden\r\n *   at the item level by setting the delay attribute.\r\n * - toggleItems {boolean|'on'|'off'|'both'}\r\n *   Controls how the menu's child items behave when clicked.  This can be overridden by the items toggle property.\r\n *   If true or 'both' the item will toggle on and off when clicked.  If 'on' the item will only toggle on.  If 'off'\r\n *   the item will only toggle off.  If false the item will never toggle on or off.  This is primarily used by dropdown\r\n *   items as items will be selected when clicked and turn off the menu if close on select is true.\r\n * - menuToggle\r\n * - positioner\r\n *\r\n * Item attributes\r\n * - selectable\r\n * - autoActivate\r\n * - toggle\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport {firstValue, parseBoolean, parseBooleanString, parseInteger} from '../utility';\r\nimport {CLASSNAMES, PREFIX, EVENTS, SELECTORS, CONTROLLER, addRole} from './core';\r\n\r\n\r\nconst POSITIONER_REGISTRY = {};\r\n\r\n\r\nfunction menuTemplate() {\r\n    return `<div class='menu' data-role='menu'>`;\r\n}\r\n\r\n\r\n/**\r\n * A grouping of items that act in sync together.\r\n */\r\nexport default class Menu {\r\n    constructor({target=menuTemplate, timeout=null, closeOnBlur=null, closeOnSelect=null, positioner=null, role=null}) {\r\n        this._onMouseOver = this.onMouseOver.bind(this);\r\n        this._onMouseOut = this.onMouseOut.bind(this);\r\n        this._onClick = this.onClick.bind(this);\r\n        this._onSelect = this.onSelect.bind(this);\r\n        this._onDocumentClick = this.onDocumentClick.bind(this);\r\n\r\n        if(typeof target === 'function') {\r\n            this.setElement(target(this));\r\n        } else {\r\n            this.setElement(target);\r\n        }\r\n\r\n        let config = {\r\n            timeout: timeout,\r\n            closeOnBlur: closeOnBlur,\r\n            closeOnSelect: closeOnSelect,\r\n            positioner: positioner\r\n        };\r\n\r\n        for(let key in config) {\r\n            if(config.hasOwnProperty(key) && config[key] !== null && config[key] !== undefined) {\r\n                this.$element.data(key, config[key]);\r\n            }\r\n        }\r\n\r\n        if(role) {\r\n            addRole(this.$element, role);\r\n        }\r\n    }\r\n\r\n    setElement(element) {\r\n        if(this.$element) {\r\n            this.destroy();\r\n        }\r\n\r\n        this.$element = $(element);\r\n        this.$element.data(CONTROLLER, this);\r\n        this.$element.on('click', this._onClick);\r\n        this.$element.on('mouseover', this._onMouseOver);\r\n        this.$element.on('mouseout', this._onMouseOut);\r\n        this.$element.on(EVENTS.select, this._onSelect);\r\n    }\r\n\r\n    destroy() {\r\n        this.$element.off('click', this._onClick);\r\n        this.$element.off('mouseover', this._onMouseOver);\r\n        this.$element.off('mouseout', this._onMouseOut);\r\n        this.$element.off(EVENTS.select, this._onSelect);\r\n\r\n        if(this.$doc) {\r\n            this.$doc.off('click', this._onDocumentClick);\r\n            this.$doc = null;\r\n        }\r\n\r\n        this.$element.data(CONTROLLER, null);\r\n        this.$element = null;\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    /**\r\n     * Appends the menu to the selector.\r\n     * @param selector\r\n     * @return {*}\r\n     */\r\n    appendTo(selector) {\r\n        return this.$element.appendTo(selector);\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    getInstance(selector) {\r\n        return $(selector).data(CONTROLLER);\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Actions\r\n\r\n    activate(node, delay=false) {\r\n        node = $(node, this.$element);\r\n\r\n        if(delay === true) {\r\n            return;\r\n        }\r\n\r\n        const activate = () => {\r\n            const parent = this.getParentNode(node),\r\n                type = this.getNodeType(node);\r\n\r\n            // Clear _activateTimer reference.\r\n            node.data('_cancelActivationTimer', null);\r\n\r\n            // If parent exists activate it if it is not.\r\n            if(parent.length && !this.isActive(parent)) {\r\n                this.activate(parent);\r\n            }\r\n\r\n            // Add class and trigger events.\r\n            node.addClass(CLASSNAMES.active);\r\n            node.trigger(EVENTS.activate, this);\r\n\r\n            // Clear other active items if multiple is not true.\r\n            if(parent.length && !this.getMultiple(parent)) {\r\n                this.getActiveChildren(parent).not(node).each((x, item) => this.deactivate(item));\r\n            }\r\n\r\n            // If it is a dropdown the menu should be shown.\r\n            if(type === 'dropdown') {\r\n                const submenu = this.getItemSubMenu(node);\r\n\r\n                if(submenu.length) {\r\n                    this.openMenu(submenu, this.getMenuOpenDelay(submenu));\r\n                }\r\n            }\r\n\r\n            // If activating the root node attach document click handler to document to watch\r\n            // for clicks outside the root element.\r\n            if(node.is(this.$element) && this.closeOnBlur && !this.$doc) {\r\n                this.$doc = $(document);\r\n                this.$doc.on('click', this._onDocumentClick);\r\n            }\r\n        };\r\n\r\n        let activateTimer = node.data(\"_cancelActivationTimer\");\r\n\r\n        if(activateTimer) {\r\n            activateTimer();\r\n        }\r\n\r\n        let cancel = null;\r\n\r\n        let r = new Promise(resolve => {\r\n            if(typeof delay === 'number' && Number.isFinite(delay) && delay >= 0) {\r\n                let timer = setTimeout(() => {\r\n                    activate();\r\n                    resolve('activated');\r\n                }, delay);\r\n\r\n                cancel = () => {\r\n                    if(timer) {\r\n                        node.data('_cancelActivationTimer', null);\r\n                        clearTimeout(timer);\r\n                        timer = null;\r\n                        resolve('canceled');\r\n                    }\r\n                };\r\n\r\n                node.data('_cancelActivationTimer', cancel);\r\n            } else {\r\n                activate();\r\n                resolve('activated');\r\n            }\r\n        });\r\n\r\n        r.cancel = cancel;\r\n\r\n        return r;\r\n    }\r\n\r\n    deactivate(node) {\r\n        node = $(node);\r\n        const type = this.getNodeType(node);\r\n        let activateTimer = node.data(\"_cancelActivationTimer\");\r\n\r\n        if(activateTimer) {\r\n            activateTimer();\r\n        }\r\n\r\n        if(this.isActive(node)) {\r\n            node.removeClass(CLASSNAMES.active);\r\n            node.trigger(EVENTS.deactivate, this);\r\n\r\n            if(node.is(this.$element) && this.$doc) {\r\n                this.$doc.off('click', this._onDocumentClick);\r\n                this.$doc = null;\r\n            }\r\n\r\n            this.getActiveChildren(node).each((x, child) => this.deactivate(child));\r\n\r\n            if(type === 'dropdown') {\r\n                this.closeMenu(this.getItemSubMenu(node));\r\n            }\r\n\r\n            if(type === 'item' || type === 'dropdown') {\r\n                const $parentMenu = this.getParentNode(node, 'menu');\r\n\r\n                if(this.isActive($parentMenu) && !this.getActiveChildren($parentMenu).length) {\r\n                    this.deactivate($parentMenu);\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    openMenu(menu, delay=false) {\r\n        menu = $(menu, this.$element);\r\n\r\n        if(!this.isOpen(menu)) {\r\n            const open = () => {\r\n                menu.data(\"_cancelOpenTimer\", null);\r\n                menu.addClass(CLASSNAMES.open);\r\n\r\n                let positioner = this.getPositioner(menu);\r\n\r\n                if(positioner) {\r\n                    positioner(menu, this);\r\n                }\r\n\r\n                menu.trigger(EVENTS.open, this);\r\n            };\r\n\r\n            let openTimer = menu.data(\"_cancelOpenTimer\");\r\n\r\n            if(openTimer) {\r\n                openTimer();\r\n            }\r\n\r\n            let cancel = null;\r\n\r\n            let r = new Promise(resolve => {\r\n                if(typeof delay === 'number' && delay >= 0 && Number.isFinite(delay)) {\r\n                    let timer = setTimeout(() => {\r\n                        timer = null;\r\n                        open();\r\n                        resolve('opened');\r\n                    }, delay);\r\n\r\n                    cancel = () => {\r\n                        if(timer) {\r\n                            clearTimeout(timer);\r\n                            timer = null;\r\n                            resolve(\"canceled\");\r\n                        }\r\n                    };\r\n\r\n                    menu.data(\"_cancelOpenTimer\", cancel);\r\n                } else {\r\n                    open();\r\n                    resolve(\"opened\");\r\n                }\r\n            });\r\n\r\n            r.cancel = cancel;\r\n            return r;\r\n        }\r\n    }\r\n\r\n    closeMenu(menu) {\r\n        menu = $(menu, this.$element);\r\n        let openTimer = menu.data(\"_cancelOpenTimer\");\r\n\r\n        if(openTimer) {\r\n            openTimer();\r\n        }\r\n\r\n        if(this.isOpen(menu)) {\r\n            menu.removeClass(CLASSNAMES.open);\r\n            menu.trigger(EVENTS.close, this);\r\n        }\r\n    }\r\n\r\n    select(node) {\r\n        return $(node, this.$element).trigger(EVENTS.select, this);\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Node Transversing\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    /**\r\n     * Returns the child items for menu nodes and the submenu for dropdown nodes.\r\n     * @param node\r\n     * @return {*}\r\n     */\r\n    getChildren(node) {\r\n        const type = this.getNodeType(node);\r\n\r\n        if(type === 'dropdown') {\r\n            return this.getItemSubMenu(node);\r\n        } else if(type === 'menu') {\r\n            return this.getChildMenuItems(node);\r\n        }\r\n    }\r\n\r\n    getChildMenuItems(node) {\r\n        node = $(node, this.$element);\r\n        let children = node.find(SELECTORS.menuitem);\r\n\r\n        return children.filter((x, item) => this.getParentNode(item).is(node));\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    /**\r\n     * Returns the direct child menus for the node.\r\n     * @param node\r\n     * @return {*}\r\n     */\r\n    getChildMenus(node) {\r\n        node = $(node, this.$element);\r\n        const type = this.getNodeType(node);\r\n        let children = node.find(SELECTORS.menu);\r\n\r\n        if(type === 'dropdown') {\r\n            return children.filter((x, item) => this.getParentNode(item).is(node));\r\n        } else if(type === 'menu') {\r\n            return children.filter((x, item) => this.getParentNode(item).is(node));\r\n        } else {\r\n            return $();\r\n        }\r\n    }\r\n\r\n    getItemSubMenu(item) {\r\n        return $(item, this.$element).children(SELECTORS.menu).eq(0);\r\n    }\r\n\r\n    getParentNode(node, type='all') {\r\n        return $(node, this.$element).parent().closest(SELECTORS[type], this.$element);\r\n    }\r\n\r\n    getClosestNode(node, type='all') {\r\n        const selector = SELECTORS[type];\r\n        node = $(node, this.$element);\r\n        return node.closest(selector, this.$element);\r\n    }\r\n\r\n    getActiveChildren(node) {\r\n        node = $(node, this.$element);\r\n        return node.find(SELECTORS.all).filter((x, child) => this.getParentNode(child).is(node) && $(child).hasClass(CLASSNAMES.active));\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // State testing\r\n\r\n    isActive(node) {\r\n        return $(node, this.$element).hasClass(CLASSNAMES.active);\r\n    }\r\n\r\n    isOpen(node) {\r\n        return $(node, this.$element).hasClass(CLASSNAMES.open);\r\n    }\r\n\r\n    isDisabled(node) {\r\n        return !!$(node).closest(`.${CLASSNAMES.disabled}`, this.$element).length;\r\n    }\r\n\r\n    /**\r\n     * Return the type of the given node.\r\n     * @param node {{length, is}}\r\n     * @return {null|'menu'|'dropdown'|'item'}\r\n     */\r\n    getNodeType(node) {\r\n        node = $(node, this.$element);\r\n\r\n        if(!node.length) {\r\n            return null;\r\n        } else if(node.is(SELECTORS.menu)) {\r\n            return 'menu';\r\n        } else if(node.is(SELECTORS.dropdown)) {\r\n            return 'dropdown';\r\n        } else if(node.is(SELECTORS.item)) {\r\n            return 'item';\r\n        }\r\n    }\r\n\r\n    isMenuItem(node) {\r\n        const type = this.getNodeType(node);\r\n        return type === 'dropdown' || type === 'item';\r\n    }\r\n\r\n    isDropDown(node) {\r\n        return this.getNodeType(node) === 'dropdown';\r\n    }\r\n\r\n    isMenu(node) {\r\n        return this.getNodeType(node) === 'menu';\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Events\r\n\r\n    onClick(event) {\r\n        if(this.isDisabled(event.target)) return;\r\n\r\n        const $target = this.getClosestNode(event.target);\r\n\r\n        if(this.isMenuItem($target)) {\r\n            return this._onClickMenuItem(event);\r\n        } else if(this.isMenu($target)) {\r\n            return this._onClickMenu(event);\r\n        }\r\n    }\r\n\r\n    onMouseOver(event) {\r\n        if(this.isDisabled(event.target)) return;\r\n\r\n        let $target = this.getClosestNode(event.target);\r\n\r\n        if(this._timer) {\r\n            clearTimeout(this._timer);\r\n            this._timer = null;\r\n        }\r\n\r\n        if($target[0].contains(event.relatedTarget)) return;\r\n\r\n        if(this.isMenuItem($target)) {\r\n            return this._onMouseOverMenuItem(event);\r\n        } else if(this.isMenu($target)) {\r\n            return this._onMouseOverMenu(event);\r\n        }\r\n    }\r\n\r\n    onMouseOut(event) {\r\n        if(this.isDisabled(event.target)) return;\r\n\r\n        // If the mouse leaves the root item and timeout is set start the timer.\r\n        if(!this._timer && typeof this.timeout === 'number' && this.timeout >= 0 && !this.$element[0].contains(event.relatedTarget)) {\r\n            this._timer = setTimeout(() => {\r\n                this._timer = null;\r\n                this.deactivate(this.$element);\r\n            }, this.timeout);\r\n        }\r\n\r\n        const $target = this.getClosestNode(event.target);\r\n\r\n        if($target[0].contains(event.relatedTarget)) return;\r\n\r\n        if(this.isMenuItem($target)) {\r\n            return this._onMouseOutMenuItem(event);\r\n        } else if(this.isMenu($target)) {\r\n            return this._onMouseOutMenu(event);\r\n        }\r\n    }\r\n\r\n    onDocumentClick(event) {\r\n        if(!this.$element[0].contains(event.target)) {\r\n            this.$doc.off('click', this._onDocumentClick);\r\n            this.$doc = null;\r\n            this.deactivate(this.$element);\r\n        } else if(!this.isActive(this.$element)) {\r\n            this.$doc = null;\r\n            this.deactivate(this.$element);\r\n        }\r\n    }\r\n\r\n    onSelect() {\r\n        if(this.isActive(this.$element) && this.closeOnSelect) {\r\n            this.deactivate(this.$element);\r\n        }\r\n    }\r\n\r\n    _onClickMenuItem(event) {\r\n        const $target = this.getClosestNode(event.target),\r\n            type = this.getNodeType($target),\r\n            isActive = this.isActive($target),\r\n            $parent = this.getParentNode($target, 'menu'),\r\n            toggle = this.getItemToggle($parent, $target);\r\n\r\n        if(type === 'item') {\r\n            if(this.getSelectable($target)) {\r\n                this.select($target);\r\n            }\r\n        } else {\r\n            window.t = $target;\r\n            console.dir($target);\r\n            console.log(toggle);\r\n            if(!isActive && (toggle === 'both' || toggle === true || toggle === 'on')) {\r\n                this.activate($target);\r\n            } else if(isActive && (toggle === 'off' || toggle === 'both' || toggle === true)) {\r\n                this.deactivate($target);\r\n            }\r\n        }\r\n    }\r\n\r\n    _onMouseOverMenuItem(event) {\r\n        const $target = this.getClosestNode(event.target),\r\n            $parent = this.getParentNode($target, 'menu');\r\n\r\n        if(!this.isActive($target)) {\r\n            let delay = this.getItemActivationDelay($parent, $target);\r\n            let timer = this.activate($target, delay);\r\n\r\n            if(timer && timer.cancel) {\r\n                let cancel = (event) => {\r\n                    if(!$target[0].contains(event.relatedTarget)) {\r\n                        timer.cancel();\r\n                    }\r\n                };\r\n\r\n                $target.on('mouseout', cancel);\r\n\r\n                timer.then(() => {\r\n                    $target.off('mouseout', cancel);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    _onMouseOutMenuItem(event) {\r\n        const $target = this.getClosestNode(event.target);\r\n\r\n        if(!this.isDropDown($target)) {\r\n            this.deactivate($target);\r\n        }\r\n    }\r\n\r\n    _onClickMenu(event) {\r\n        const $target = this.getClosestNode(event.target),\r\n            toggle = parseBooleanString($target.data('menuToggle'));\r\n\r\n        if(this.isActive($target)) {\r\n            if(toggle === 'off' || toggle === 'both' || toggle === true) {\r\n                this.deactivate($target);\r\n            }\r\n        } else {\r\n            if(toggle === 'on' || toggle === 'both' || toggle === true) {\r\n                this.activate($target);\r\n            }\r\n        }\r\n    }\r\n\r\n    _onMouseOverMenu(event) {\r\n\r\n    }\r\n\r\n    _onMouseOutMenu(event) {\r\n\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Getter functions\r\n\r\n    getItemToggle(menu, item) {\r\n        menu = $(menu);\r\n        item = $(item);\r\n\r\n        let toggle = firstValue([\r\n            item.data('toggle'),\r\n            menu.data('toggleItems'),\r\n            'both'\r\n        ]);\r\n\r\n        if(toggle === 'true' || toggle === 'false') {\r\n            return toggle === 'true';\r\n        } else {\r\n            return toggle;\r\n        }\r\n    }\r\n\r\n    getMenuOpenDelay(menu) {\r\n        menu = $(menu);\r\n        let value = menu.data('openDelay');\r\n\r\n        if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else if(typeof value === 'number') {\r\n            return parseInteger(value, null, 10);\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    getItemActivationDelay(menu, item) {\r\n        menu = $(menu);\r\n        item = $(item);\r\n\r\n        let isParentActive = this.isActive(menu);\r\n\r\n        if(!isParentActive) {\r\n            let value = firstValue([\r\n                item.data('autoActivate'),\r\n                menu.data('autoActivate'),\r\n                0\r\n            ]);\r\n\r\n            if(value === 'true' || value === 'false') {\r\n                return value !== 'true';\r\n            } else if(typeof value === 'string') {\r\n                return parseInt(value, 10);\r\n            } else if(typeof value === 'boolean') {\r\n                return !value;\r\n            } else {\r\n                return value;\r\n            }\r\n        } else {\r\n            let delay = firstValue(\r\n                [\r\n                    item.data('delay'),\r\n                    menu.data('itemDelay'),\r\n                    false\r\n                ]\r\n            );\r\n\r\n            if(delay === 'true' || delay === 'false') {\r\n                return delay === 'true';\r\n            } else if(typeof delay === 'string') {\r\n                return parseInt(delay, 10);\r\n            } else {\r\n                return delay;\r\n            }\r\n        }\r\n    }\r\n\r\n    getMultiple(menu) {\r\n        return parseBoolean($(menu).data(\"multiple\"), false);\r\n    }\r\n\r\n    getSelectable(item) {\r\n        let value = $(item).data(\"selectable\");\r\n\r\n        if(value === undefined || value === null) {\r\n            return true;\r\n        } else if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    getPositioner(menu) {\r\n        menu = $(menu);\r\n        let value = firstValue([\r\n            menu.data(\"positioner\"),\r\n            this.$element.data(\"positioner\")\r\n        ]);\r\n\r\n        if(typeof value === 'string') {\r\n            return POSITIONER_REGISTRY[value];\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Properties\r\n\r\n    get timeout() {\r\n        let value = this.$element.data(\"timeout\");\r\n\r\n        if(typeof value === 'string') {\r\n            value = parseInt(value, 10);\r\n\r\n            if(!Number.isNaN(value) && value >= 0) {\r\n                return value;\r\n            }\r\n        } else if(typeof value === 'number') {\r\n            if(value >= 0 && !Number.isNaN(value)) {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    get closeOnBlur() {\r\n        let value = this.$element.data(\"closeOnBlur\");\r\n\r\n        if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else if(value !== undefined && value !== null) {\r\n            return value;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    get closeOnSelect() {\r\n        let value = this.$element.data(\"closeOnSelect\");\r\n\r\n        if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else if(value !== undefined && value !== null) {\r\n            return value;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nMenu.EVENTS = EVENTS;\r\nMenu.PREFIX = PREFIX;\r\nMenu.CONTROLLER = CONTROLLER;\r\nMenu.CLASSNAMES = CLASSNAMES;\r\nMenu.SELECTORS = SELECTORS;\r\nMenu.POSITIONER_REGISTRY = POSITIONER_REGISTRY;\r\n","export const PREFIX = 'menus.',\r\n    CONTROLLER = `${PREFIX}menu`;\r\n\r\n\r\nexport const SELECTORS = {\r\n    menu: \"[data-role~='menu']\",\r\n    item: \"[data-role~='item']\",\r\n    dropdown: \"[data-role~='dropdown']\"\r\n};\r\n\r\n\r\nSELECTORS.all = `${SELECTORS.menu}, ${SELECTORS.item}, ${SELECTORS.dropdown}`;\r\nSELECTORS.menuitem = `${SELECTORS.item}, ${SELECTORS.dropdown}`;\r\n\r\n\r\nexport const CLASSNAMES = {\r\n    open: 'open',\r\n    active: 'active',\r\n    disabled: 'disabled'\r\n};\r\n\r\n\r\nexport const EVENTS = {\r\n    select: `${PREFIX}select`,\r\n    activate: `${PREFIX}activate`,\r\n    deactivate: `${PREFIX}deactivate`,\r\n    open: `${PREFIX}open`,\r\n    close: `${PREFIX}close`\r\n};\r\n\r\n\r\nexport function addRole(element, ...roles) {\r\n    element = $(element);\r\n    let r = getRoles(element);\r\n\r\n    for(let item of roles) {\r\n        let i = r.indexOf(item);\r\n\r\n        if(i === -1) {\r\n            r.push(item);\r\n        }\r\n    }\r\n\r\n    r = r.join(' ');\r\n    element.attr(\"data-role\", r);\r\n    return r;\r\n}\r\n\r\n\r\nexport function removeRole(element, ...roles) {\r\n    element = $(element);\r\n    let r = getRoles(element);\r\n\r\n    for(let item of roles) {\r\n        let i = r.indexOf(item);\r\n\r\n        if(i !== -1) {\r\n            r.splice(i, 1);\r\n        }\r\n    }\r\n\r\n    r = r.join(' ');\r\n    element.attr(\"data-role\", r);\r\n    return r;\r\n}\r\n\r\n\r\nexport function hasRoles(element, ...roles) {\r\n    element = $(element);\r\n    let r = getRoles(element);\r\n\r\n    for(let item of roles) {\r\n        let i = r.indexOf(item);\r\n\r\n        if(i === -1) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n\r\nexport function getRoles(element) {\r\n    element = $(element);\r\n    let r = element.attr(\"data-role\");\r\n\r\n    if(!r) {\r\n        r = [];\r\n    } else {\r\n        r = r.split('/s+/');\r\n    }\r\n\r\n    return r;\r\n}\r\n","import Menu from './Menu';\r\nimport './loaders';\r\n\r\n\r\nexport {\r\n    Menu,\r\n}\r\n\r\n\r\nwindow.Menu = Menu;\r\n\r\n","import Loader from '../loader';\r\nimport Menu from './Menu';\r\nimport {setDefaultValues} from '../utility';\r\n\r\n\r\nLoader.register('menu', (config) => {\r\n    return new Menu(config);\r\n});\r\n\r\n\r\nLoader.register('dropdown', (config) => {\r\n    config.role = \"dropdown\";\r\n    let r = new Menu(config);\r\n\r\n    setDefaultValues(r.$element.data(), {\r\n        timeout: false,\r\n        closeOnBlur: true,\r\n        closeOnSelect: true,\r\n        toggle: true,\r\n        autoActivate: false\r\n    });\r\n\r\n    return r;\r\n});\r\n","const nill = {};\r\n\r\n\r\nexport function clamp(value, minValue, maxValue) {\r\n\r\n}\r\n\r\n\r\nexport function firstValue(args) {\r\n    for(let item of args) {\r\n        if(item !== null && item !== undefined) {\r\n            return item;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function parseInteger(value, defaultValue=null, radix=10) {\r\n    value = parseInt(value, radix);\r\n\r\n    if(Number.isNaN(value)) {\r\n        return defaultValue;\r\n    } else {\r\n        return value;\r\n    }\r\n}\r\n\r\n\r\nexport function parseBoolean(value, defaultValue=null) {\r\n    if(typeof value === 'string') {\r\n        if(value === 'true') {\r\n            return true;\r\n        } else if(value === 'false') {\r\n            return false;\r\n        } else {\r\n            return defaultValue;\r\n        }\r\n    } else {\r\n        return !!value;\r\n    }\r\n}\r\n\r\n\r\nexport function parseBooleanString(value) {\r\n    if(value === 'true') {\r\n        return true;\r\n    } else if(value === 'false') {\r\n        return false;\r\n    } else {\r\n        return value;\r\n    }\r\n}\r\n\r\n\r\nexport function parseBooleanOrNumber(value, defaultValue=null, radix=10) {\r\n    if(value === 'true' || value === 'false') {\r\n        return value === 'true';\r\n    } else if(typeof value === 'boolean') {\r\n        return value;\r\n    } else {\r\n        return parseInteger(value, defaultValue, radix);\r\n    }\r\n}\r\n\r\n\r\nexport function setDefaultValues(target, defaults) {\r\n    for(let key in defaults) {\r\n        if(defaults.hasOwnProperty(key) && (!target.hasOwnProperty(key) || target[key] === undefined)) {\r\n            target[key] = defaults[key];\r\n        }\r\n    }\r\n}\r\n","module.exports = jQuery;"],"sourceRoot":""}