{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/apps.js","webpack:///./src/common/Mouse.js","webpack:///./src/common/matricies.js","webpack:///./src/components/Modal.js","webpack:///./src/components/Panes.js","webpack:///./src/components/resizeable.js","webpack:///./src/components/toggle.js","webpack:///./src/index.js","webpack:///./src/loader.js","webpack:///./src/menus/Menu.js","webpack:///./src/menus/core.js","webpack:///./src/menus/index.js","webpack:///./src/menus/loaders.js","webpack:///./src/utility.js","webpack:///external \"jQuery\""],"names":["Application","classes","page","isLoaded","name","cls","hasOwnProperty","key","Error","context","pageClassImporter","PageClass","default","load","Mouse","isMouseTracked","callback","$doc","$","document","untrack","off","onMouseMove","_untrackMousePosition","event","pageX","pageY","on","privotRow","matrixAdd","matrixSub","dotProduct","getRowVertex","getColumnVertex","matrixProduct","row","r","i","length","push","m1","m2","m","n","v1","v2","index","j","PREFIX","EVENTS","OPEN","CLOSE","Modal","target","$element","attr","_onClick","onClick","bind","data","$target","$dismiss","closest","is","close","addClass","trigger","removeClass","isOpen","open","hasClass","Loader","register","window","Panes","element","pane","Resizeable","resizing","ui","space","getPaneSpace","to","Math","max","innerWidth","width","innerHeight","height","exclude","children","not","each","x","grow","parseInt","css","minWidth","maxWidth","Infinity","minHeight","maxHeight","config","p","resize","handle","_onMouseDown","onMouseDown","_width","_height","selector","appendTo","console","log","isDisabled","originMatrix","start","tracker","trackMousePosition","cords","_getTransformationMatrix","size","_setCords","onMouseUp","split","matrix","indexOf","controller","from","render","_animationId","requestAnimationFrame","isWidthResizeable","isHeightResizeable","resized","value","Toggle","initialized","toggle","registry","autoLoad","parse","func","section","find","addBack","getAttribute","c","Object","assign","fn","loader","init","POSITIONER_REGISTRY","menuTemplate","Menu","timeout","closeOnBlur","closeOnSelect","positioner","role","_onMouseOver","onMouseOver","_onMouseOut","onMouseOut","_onSelect","onSelect","_onDocumentClick","onDocumentClick","setElement","undefined","destroy","CONTROLLER","select","node","delay","activate","parent","getParentNode","type","getNodeType","isActive","CLASSNAMES","active","getMultiple","getActiveChildren","item","deactivate","submenu","getItemSubMenu","openMenu","getMenuOpenDelay","activateTimer","cancel","Promise","Number","isFinite","timer","setTimeout","resolve","clearTimeout","child","closeMenu","$parentMenu","menu","getPositioner","openTimer","getChildMenuItems","SELECTORS","menuitem","filter","eq","all","disabled","dropdown","getClosestNode","isMenuItem","_onClickMenuItem","isMenu","_onClickMenu","_timer","contains","relatedTarget","_onMouseOverMenuItem","_onMouseOverMenu","_onMouseOutMenuItem","_onMouseOutMenu","$parent","getItemToggle","getSelectable","getItemActivationDelay","then","isDropDown","isParentActive","isNaN","addRole","removeRole","hasRoles","getRoles","roles","join","splice","autoActivate","clamp","firstValue","parseInteger","parseBoolean","parseBooleanString","parseBooleanOrNumber","setDefaultValues","nill","minValue","maxValue","min","args","defaultValue","radix","defaults"],"mappings":"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","file":"vortex.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import $ from 'jquery';\r\n\r\n\r\nexport default class Application {\r\n    constructor(classes=null) {\r\n        this.classes = classes || {};\r\n        this.page = null;\r\n        this.isLoaded = false;\r\n    }\r\n\r\n    registerPage(name, cls) {\r\n        if(this.classes.hasOwnProperty(key) && this.classes[key]) {\r\n            throw new Error(\"Duplicate Class Key.\");\r\n        }\r\n\r\n        this.classes[key] = cls;\r\n    }\r\n\r\n    init(page, context) {\r\n        if(this.page) {\r\n            throw new Error(\"Page already loaded.\");\r\n        }\r\n\r\n        $(async () => {\r\n            this.isLoaded = true;\r\n\r\n            const pageClassImporter = this.classes[page],\r\n                PageClass = (await pageClassImporter()).default;\r\n\r\n            this.page = new PageClass(context);\r\n            this.page.load();\r\n        });\r\n    }\r\n}\r\n","\r\nexport default class Mouse {\r\n    constructor() {\r\n        this.isMouseTracked = false;\r\n    }\r\n\r\n    trackMousePosition(callback) {\r\n        if(this.isMouseTracked) {\r\n            throw new Error(\"Mouse is already being tracked.\");\r\n        }\r\n\r\n        const $doc = $(document);\r\n\r\n        const untrack = () => {\r\n            $doc.off('mousemove', onMouseMove);\r\n            this.isMouseTracked = false;\r\n            this._untrackMousePosition = null;\r\n        };\r\n\r\n        const onMouseMove = (event) => {\r\n            callback(event, [event.pageX, event.pageY]);\r\n        };\r\n\r\n        this.isMouseTracked = true;\r\n        this._untrackMousePosition = untrack;\r\n        $doc.on('mousemove', onMouseMove);\r\n\r\n        return {\r\n            $doc: $doc,\r\n            untrack: untrack,\r\n            callback: callback\r\n        };\r\n    }\r\n\r\n    untrackMousePosition() {\r\n        if(this._untrackMousePosition) {\r\n            this._untrackMousePosition();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n","\r\nexport function privotRow(row) {\r\n    let r = [];\r\n\r\n    for(let i = 0; i < row.length; i++) {\r\n        r.push([row[i]]);\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\nexport function matrixAdd(m1, m2) {\r\n    let r = [];\r\n\r\n    for(let m = 0; m < m1.length; m++) {\r\n        r.push([]);\r\n\r\n        for(let n = 0; n < m1[m].length; n++) {\r\n            r[m].push(\r\n                m1[m][n] + m2[m][n]\r\n            );\r\n        }\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\nexport function matrixSub(m1, m2) {\r\n    let r = [];\r\n\r\n    for(let m = 0; m < m1.length; m++) {\r\n        r.push([]);\r\n\r\n        for(let n = 0; n < m1[m].length; n++) {\r\n            r[m].push(\r\n                m1[m][n] - m2[m][n]\r\n            );\r\n        }\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\nexport function dotProduct(v1, v2) {\r\n    let r = 0;\r\n\r\n    for(let i = 0; i < v1.length; i++) {\r\n        r += v1[i] * v2[i];\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\nexport function getRowVertex(m, index) {\r\n    return m[index];\r\n}\r\n\r\n\r\nexport function getColumnVertex(m, index) {\r\n    let r = [];\r\n\r\n    for(let i = 0; i < m.length; i++) {\r\n        r.push(m[i][index]);\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\nexport function matrixProduct(m1, m2) {\r\n    let r = [];\r\n\r\n    for(let i = 0; i < m2.length; i++) {\r\n        r.push([]);\r\n\r\n        for(let j = 0; j < m2[0].length; j++) {\r\n            r[i].push(dotProduct(\r\n                getRowVertex(m1, i),\r\n                getColumnVertex(m2, j)\r\n            ));\r\n        }\r\n    }\r\n\r\n    return r;\r\n}\r\n","import $ from 'jquery';\r\nimport Loader from '../loader';\r\n\r\n\r\nconst PREFIX = 'models.';\r\n\r\n\r\nconst EVENTS = {\r\n    OPEN: `${PREFIX}open`,\r\n    CLOSE: `${PREFIX}.close`\r\n};\r\n\r\n\r\nexport default class Modal {\r\n    constructor(target) {\r\n        this.$element = $(target);\r\n        this.$element.attr('data-role', 'modal');\r\n\r\n        this._onClick = this.onClick.bind(this);\r\n        this.$element.on('click', this._onClick);\r\n        this.$element.data('modal', this);\r\n    }\r\n\r\n    onClick(event) {\r\n        const $target = $(event.target);\r\n\r\n        let $dismiss = $target.closest('[data-action=\"dismiss\"]');\r\n\r\n        if($target.is(\"[data-role='modal']\") || $dismiss.length) {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    open() {\r\n        this.$element.addClass('open');\r\n        this.$element.trigger(EVENTS.OPEN, this);\r\n    }\r\n\r\n    close() {\r\n        this.$element.removeClass('open');\r\n        this.$element.trigger(EVENTS.CLOSE, this);\r\n    }\r\n\r\n    get isOpen() {\r\n        return this.$element.hasClass('open');\r\n    }\r\n\r\n    toggle() {\r\n        if(this.isOpen) {\r\n            this.close();\r\n        } else {\r\n            this.open();\r\n        }\r\n    }\r\n}\r\n\r\n\r\nLoader.register('modal', (target) => {\r\n    return new Modal(target);\r\n});\r\n\r\n\r\nwindow.Modal = Modal;","import Loader from '../loader';\r\nimport Resizeable from './resizeable';\r\nimport $ from 'jquery';\r\nimport {clamp, parseInteger} from \"../utility\";\r\n\r\n\r\nexport default class Panes {\r\n    constructor(element, {pane='x'}) {\r\n        this.$element = $(element);\r\n        this.pane = pane;\r\n\r\n        this.$element.on(Resizeable.EVENTS.resizing, (event, ui) => {\r\n            let $target = $(event.target),\r\n                space = this.getPaneSpace($target);\r\n\r\n            if(this.pane === 'x' || this.pane === 'x y') {\r\n                ui.to[0] = clamp(ui.to[0], 0, Math.max(0, this.innerWidth - space.width));\r\n            }\r\n\r\n            if(this.pane === 'y' || this.pane === 'x y') {\r\n                ui.to[1] = clamp(ui.to[1], 0, Math.max(0, this.innerHeight - space.height));\r\n            }\r\n        });\r\n    }\r\n\r\n    getPaneSpace(exclude) {\r\n        let children = this.$element.children();\r\n\r\n        if(exclude) {\r\n            children = children.not(exclude);\r\n        }\r\n\r\n        let r = {\r\n            width: 0,\r\n            height: 0\r\n        };\r\n\r\n        children.each((x, element) => {\r\n            element = $(element);\r\n            let grow = parseInt(element.css('flex-grow'), 10);\r\n\r\n            if(grow === 0) {\r\n                r.width += parseInteger(element.css('width'), 0, 10);\r\n                r.height += parseInteger(element.css('height'), 0, 10);\r\n            }\r\n        });\r\n\r\n        return r;\r\n    }\r\n\r\n    get innerWidth() {\r\n        return this.$element.innerWidth();\r\n    }\r\n\r\n    get innerHeight() {\r\n        return this.$element.innerHeight();\r\n    }\r\n\r\n    getElementBounds(element) {\r\n        element = $(element);\r\n\r\n        return {\r\n            minWidth: parseInteger(element.css('min-width'), 0, 10),\r\n            maxWidth: parseInteger(element.css('max-width', Infinity, 10)),\r\n            minHeight: parseInteger(element.css('min-height', 0, 10)),\r\n            maxHeight: parseInteger(element.css('max-height'), Infinity, 10)\r\n        };\r\n    }\r\n}\r\n\r\n\r\nLoader.register('panes', (target, config) => {\r\n    let p = new Panes(target, config);\r\n    window.p = p;\r\n    return p;\r\n});\r\n","import Mouse from '../common/Mouse';\r\nimport {matrixSub, matrixProduct, privotRow, getColumnVertex, matrixAdd} from \"../common/matricies\";\r\nimport Loader from '../loader';\r\nimport {clamp, parseInteger} from '../utility';\r\n\r\n\r\nconst PREFIX = 'resizeable.';\r\n\r\n\r\nconst EVENTS = {\r\n    'resizing': `${PREFIX}resizing`,\r\n    'resized': `${PREFIX}resized`\r\n};\r\n\r\n\r\nexport default class Resizeable extends Mouse {\r\n    constructor(element, {resize='x y', handle=null, exclude=null}) {\r\n        super();\r\n\r\n        this.$element = $(element);\r\n        this.resize = resize;\r\n        this.handle = handle;\r\n        this.exclude = exclude;\r\n\r\n        this._onMouseDown = this.onMouseDown.bind(this);\r\n        this._width = null;\r\n        this._height = null;\r\n\r\n        this.$element.on('mousedown', this._onMouseDown);\r\n    }\r\n\r\n    appendTo(selector) {\r\n        return this.$element.appendTo(selector);\r\n    }\r\n\r\n    onMouseDown(event) {\r\n        console.log(\"here\");\r\n        let $target = $(event.target);\r\n\r\n        if(this.handle && !$target.closest(this.handle, this.$element).length) {\r\n            return;\r\n        } if(this.exclude && $target.closest(this.exclude, this.$element).length) {\r\n            return;\r\n        } else if(this.isDisabled) {\r\n            return;\r\n        }\r\n\r\n        let originMatrix = [[event.pageX], [event.pageY]],\r\n            start = [[this.width], [this.height]];\r\n\r\n        // Start tracking mouse position on mouse move.\r\n        let tracker = this.trackMousePosition((event, cords) => {\r\n            cords = matrixSub(privotRow(cords), originMatrix); // Offset cordinents so the origin is the starting position.\r\n            cords = matrixProduct(this._getTransformationMatrix(), cords); // Transform the matrix.\r\n\r\n            let size = getColumnVertex(matrixAdd(start, cords), 0);\r\n\r\n            this._setCords(size);\r\n        });\r\n\r\n        // Add event listeners to untrack mouse on mouse up.\r\n        const onMouseUp = (event) => {\r\n            tracker.untrack();\r\n            tracker.callback(event, [event.pageX, event.pageY]);\r\n            tracker.$doc.off('mouseup', onMouseUp);\r\n        };\r\n\r\n        tracker.$doc.on('mouseup', onMouseUp);\r\n    }\r\n\r\n    _getTransformationMatrix() {\r\n        let resize = this.resize.split(/\\s+/),\r\n            matrix = [[1, 0], [0, 1]];\r\n\r\n        if(resize.indexOf('-x') !== -1) {\r\n            matrix[0] = [-1, 0];\r\n        }\r\n\r\n        if(resize.indexOf('-y') !== -1) {\r\n            matrix[1] = [0, -1];\r\n        }\r\n\r\n        return matrix;\r\n    }\r\n\r\n   _setCords(cords) {\r\n        let width = this.width,\r\n            height = this.height;\r\n\r\n        this.width = cords[0];\r\n        this.height = cords[1];\r\n\r\n        if(this.width !== width || this.height !== height) {\r\n            let event = {\r\n                controller: this,\r\n                from: [width, height],\r\n                to: [this.width, this.height],\r\n            };\r\n\r\n            this.$element.trigger(EVENTS.resizing, event);\r\n\r\n            this.width = event.to[0];\r\n            this.height = event.to[1];\r\n\r\n            this.render();\r\n        }\r\n   }\r\n\r\n   get width() {\r\n        if(this._width === null) {\r\n            this.width = parseInt(this.$element.css('width'), 10);\r\n        }\r\n\r\n        return this._width;\r\n   }\r\n\r\n   set width(value) {\r\n        if(this.isWidthResizeable) {\r\n            this._width = clamp(value, this.minWidth, this.maxWidth);\r\n        }\r\n   }\r\n\r\n   get height() {\r\n        if(this._height === null) {\r\n            this.height = parseInt(this.$element.css('height'), 10);\r\n        }\r\n\r\n        return this._height;\r\n   }\r\n\r\n   set height(value) {\r\n        if(this.isHeightResizeable) {\r\n            this._height = clamp(value, this.minHeight, this.maxHeight);\r\n        }\r\n   }\r\n\r\n   render() {\r\n        if(this._animationId) return;\r\n\r\n        this._animationId = window.requestAnimationFrame(() => {\r\n            this._animationId = null;\r\n            let r = {};\r\n\r\n            if(this.isWidthResizeable) {\r\n                r.width = this.width;\r\n            }\r\n\r\n            if(this.isHeightResizeable) {\r\n                r.height = this.height;\r\n            }\r\n\r\n            this.$element.css(r);\r\n\r\n            this.$element.trigger(EVENTS.resized, {\r\n                controller: this,\r\n                size: {\r\n                    width: this.width,\r\n                    height: this.height\r\n                }\r\n            });\r\n        });\r\n   }\r\n\r\n   get isWidthResizeable() {\r\n       let resize = this.resize.split(/\\s+/);\r\n       return resize.indexOf('x') !== -1 || resize.indexOf('-x') !== -1;\r\n   }\r\n\r\n    get isHeightResizeable() {\r\n        let resize = this.resize.split(/\\s+/);\r\n        return resize.indexOf('y') !== -1 || resize.indexOf('-y') !== -1;\r\n    }\r\n\r\n    get minWidth() {\r\n        return parseInteger(this.$element.css('min-width'), 0, 10);\r\n    }\r\n\r\n    get minHeight() {\r\n        return parseInteger(this.$element.css('min-height'), 0, 10);\r\n    }\r\n\r\n    get maxWidth() {\r\n        return parseInteger(this.$element.css('max-width'), Infinity, 10);\r\n    }\r\n\r\n    get maxHeight() {\r\n        return parseInteger(this.$element.css('max-height'), Infinity, 10);\r\n    }\r\n\r\n    set minWidth(value) {\r\n        this.$element.css('min-width', value);\r\n    }\r\n\r\n    set minHeight(value) {\r\n        this.$element.css('min-height', value);\r\n    }\r\n\r\n    set maxWidth(value) {\r\n        this.$element.css('max-width', value);\r\n    }\r\n\r\n    set maxHeight(value) {\r\n        this.$element.css('max-height', value);\r\n    }\r\n}\r\n\r\n\r\nResizeable.EVENTS = EVENTS;\r\nResizeable.PREFIX = PREFIX;\r\n\r\n\r\nwindow.Resizeable = Resizeable;\r\n\r\n\r\nLoader.register('resizeable', (target, config) => {\r\n    return new Resizeable(target, config);\r\n});\r\n","import $ from 'jquery';\r\nimport Loader from '../loader';\r\n\r\n\r\nexport default class Toggle {\r\n    constructor(target) {\r\n        this.$element = $(target);\r\n\r\n        this._onClick = this.onClick.bind(this);\r\n        this.$element.on('click', this._onClick);\r\n    }\r\n\r\n    onClick(event) {\r\n        let $target = $(event.target).closest(\"[data-toggle]\", this.$element);\r\n\r\n        if($target.length) {\r\n            let [selector, key] = $target.attr('data-toggle').split(/\\s*->\\s*/),\r\n                element = $(selector),\r\n                initialized = element.data('initialized');\r\n\r\n            if(key) {\r\n                initialized[key].toggle();\r\n            } else if(initialized) {\r\n                for(let key in initialized) {\r\n                    if(initialized.hasOwnProperty(key)) {\r\n                        if(initialized[key].toggle) {\r\n                            initialized[key].toggle();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nLoader.register('toggle', (target) => {\r\n    return new Toggle(target);\r\n});\r\n","import './menus';\r\nimport Loader from './loader';\r\nimport './components/toggle';\r\nimport './components/Modal';\r\nimport Application from './apps';\r\nimport './components/resizeable';\r\nimport './components/Panes';\r\n\r\n\r\nexport {\r\n    Loader,\r\n    Application\r\n};\r\n","import $ from 'jquery';\r\n\r\n\r\nexport default class Loader {\r\n    static loader = null;\r\n\r\n    constructor() {\r\n        this.registry = {};\r\n    }\r\n\r\n    init() {\r\n        $(() => {\r\n            if(Loader.autoLoad) {\r\n                this.parse();\r\n            }\r\n        });\r\n    }\r\n\r\n    register(name, func) {\r\n        if(this.registry.hasOwnProperty(name) && this.registry[name]) {\r\n            throw new Error(\"Auto Loading name conflict.\");\r\n        }\r\n\r\n        this.registry[name] = func;\r\n    }\r\n\r\n    parse(section=null) {\r\n        if(section === null) {\r\n            section = $(\"[data-init]\");\r\n        } else {\r\n            section = $(section).find(\"[data-init]\").addBack(\"[data-init]\");\r\n        }\r\n\r\n        section.each((x, element) => {\r\n            const classes = element.getAttribute(\"data-init\").split(/\\s+/);\r\n\r\n            for(let c of classes) {\r\n                if(this.registry[c]) {\r\n                    let target = element,\r\n                        data = {},\r\n                        r;\r\n\r\n                    element = $(element);\r\n                    Object.assign(data, element.data());\r\n\r\n                    r = this.registry[c](target, data);\r\n                    data = element.data();\r\n\r\n                    if(r) {\r\n                        if(!data.initialized) {\r\n                            data.initialized = {};\r\n                        }\r\n\r\n                        data.initialized[c] = r;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    static register(name, fn) {\r\n        return this.loader.register(name, fn);\r\n    }\r\n\r\n    static init() {\r\n        return this.loader.init();\r\n    }\r\n}\r\n\r\n\r\nLoader.loader = new Loader();\r\nwindow.Loader = Loader;\r\nLoader.autoLoad = true;\r\nLoader.init();\r\n","/**\r\n * Package for create menus.\r\n *\r\n * Menus are defined and controlled using their dom structure.  Attributes are stored on the individual nodes and are\r\n * accessed and retrieved using jQueries data method.  So you can use manual data-attribute html attributes in your code\r\n * or programmically assign attributes using the data method.\r\n *\r\n * All events are attached to the root element of the menu.  Any incoming events are delegated from their to the\r\n * necessary menu nodes if needed.\r\n *\r\n * The data-role attribute determines what kind of menu node an element is.  When looking for child and parent nodes\r\n * any element that isn't marked with a data-role attribute is ignored.  Their are three types of nodes in the menu.\r\n * Those nodes are:\r\n *\r\n * - menu;\r\n * - item;\r\n * - dropdown;\r\n *\r\n * A menu is a collection of dropdown items and items.  A dropdown will add another layer to the menu tree.  An item\r\n * is a selectable item and shouldn't have a submenu.\r\n *\r\n * There are three places where attributes can be set.  On the root element, on the menu elements or on the item elements.\r\n * Each of these nodes have different attributes that can be modified.  Some attributes are inherited from their parents\r\n * if they are not manually set on child element.  All attributes come with sensible defaults.\r\n *\r\n * Root attribute\r\n * - closeOnSelect\r\n * - closeOnBlur\r\n * - timeout\r\n * - positioner\r\n *\r\n * Menu attributes\r\n * - openDelay {Number} Default 0\r\n *   Adds a delay after an item activates before it shows it's menu.\r\n * - multiple {boolean} Default false\r\n *   If true multiple items can be active at the same time for the menu.\r\n * - autoActivate {Number|boolean} Default true\r\n *   Controls if child items activate when the mouse moves over them when the menu is not active.  This is mostly used\r\n *   for root elements because most of the time menus are hidden when they are not active so child items cannot be hovered\r\n *   over.  If a number greater than or equal to 0 The item will activate after the given amount of time in milliseconds.\r\n *   If true if item will activate instantly.  If anything else the item will never activate on mouse over.\r\n *   This can be overidden by autoActivate at the item level.\r\n * - itemDelay {Number|boolean} Default 0\r\n *   Controls if child items activate when the mouse moves over them when the menu is already active.  If >= 0 the item\r\n *   will activate after the given amount of time.  If true if item will never activate.  This attribute can be overridden\r\n *   at the item level by setting the delay attribute.\r\n * - toggleItems {boolean|'on'|'off'|'both'}\r\n *   Controls how the menu's child items behave when clicked.  This can be overridden by the items toggle property.\r\n *   If true or 'both' the item will toggle on and off when clicked.  If 'on' the item will only toggle on.  If 'off'\r\n *   the item will only toggle off.  If false the item will never toggle on or off.  This is primarily used by dropdown\r\n *   items as items will be selected when clicked and turn off the menu if close on select is true.\r\n * - menuToggle\r\n * - positioner\r\n *\r\n * Item attributes\r\n * - selectable\r\n * - autoActivate\r\n * - toggle\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport {firstValue, parseBoolean, parseBooleanString, parseInteger} from '../utility';\r\nimport {CLASSNAMES, PREFIX, EVENTS, SELECTORS, CONTROLLER, addRole} from './core';\r\n\r\n\r\nconst POSITIONER_REGISTRY = {};\r\n\r\n\r\nfunction menuTemplate() {\r\n    return `<div class='menu' data-role='menu'>`;\r\n}\r\n\r\n\r\n/**\r\n * A grouping of items that act in sync together.\r\n */\r\nexport default class Menu {\r\n    constructor({target=menuTemplate, timeout=null, closeOnBlur=null, closeOnSelect=null, positioner=null, role=null}) {\r\n        this._onMouseOver = this.onMouseOver.bind(this);\r\n        this._onMouseOut = this.onMouseOut.bind(this);\r\n        this._onClick = this.onClick.bind(this);\r\n        this._onSelect = this.onSelect.bind(this);\r\n        this._onDocumentClick = this.onDocumentClick.bind(this);\r\n\r\n        if(typeof target === 'function') {\r\n            this.setElement(target(this));\r\n        } else {\r\n            this.setElement(target);\r\n        }\r\n\r\n        let config = {\r\n            timeout: timeout,\r\n            closeOnBlur: closeOnBlur,\r\n            closeOnSelect: closeOnSelect,\r\n            positioner: positioner\r\n        };\r\n\r\n        for(let key in config) {\r\n            if(config.hasOwnProperty(key) && config[key] !== null && config[key] !== undefined) {\r\n                this.$element.data(key, config[key]);\r\n            }\r\n        }\r\n\r\n        if(role) {\r\n            addRole(this.$element, role);\r\n        }\r\n    }\r\n\r\n    setElement(element) {\r\n        if(this.$element) {\r\n            this.destroy();\r\n        }\r\n\r\n        this.$element = $(element);\r\n        this.$element.data(CONTROLLER, this);\r\n        this.$element.on('click', this._onClick);\r\n        this.$element.on('mouseover', this._onMouseOver);\r\n        this.$element.on('mouseout', this._onMouseOut);\r\n        this.$element.on(EVENTS.select, this._onSelect);\r\n    }\r\n\r\n    destroy() {\r\n        this.$element.off('click', this._onClick);\r\n        this.$element.off('mouseover', this._onMouseOver);\r\n        this.$element.off('mouseout', this._onMouseOut);\r\n        this.$element.off(EVENTS.select, this._onSelect);\r\n\r\n        if(this.$doc) {\r\n            this.$doc.off('click', this._onDocumentClick);\r\n            this.$doc = null;\r\n        }\r\n\r\n        this.$element.data(CONTROLLER, null);\r\n        this.$element = null;\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    /**\r\n     * Appends the menu to the selector.\r\n     * @param selector\r\n     * @return {*}\r\n     */\r\n    appendTo(selector) {\r\n        return this.$element.appendTo(selector);\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    getInstance(selector) {\r\n        return $(selector).data(CONTROLLER);\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Actions\r\n\r\n    activate(node, delay=false) {\r\n        node = $(node, this.$element);\r\n\r\n        if(delay === true) {\r\n            return;\r\n        }\r\n\r\n        const activate = () => {\r\n            const parent = this.getParentNode(node),\r\n                type = this.getNodeType(node);\r\n\r\n            // Clear _activateTimer reference.\r\n            node.data('_cancelActivationTimer', null);\r\n\r\n            // If parent exists activate it if it is not.\r\n            if(parent.length && !this.isActive(parent)) {\r\n                this.activate(parent);\r\n            }\r\n\r\n            // Add class and trigger events.\r\n            node.addClass(CLASSNAMES.active);\r\n            node.trigger(EVENTS.activate, this);\r\n\r\n            // Clear other active items if multiple is not true.\r\n            if(parent.length && !this.getMultiple(parent)) {\r\n                this.getActiveChildren(parent).not(node).each((x, item) => this.deactivate(item));\r\n            }\r\n\r\n            // If it is a dropdown the menu should be shown.\r\n            if(type === 'dropdown') {\r\n                const submenu = this.getItemSubMenu(node);\r\n\r\n                if(submenu.length) {\r\n                    this.openMenu(submenu, this.getMenuOpenDelay(submenu));\r\n                }\r\n            }\r\n\r\n            // If activating the root node attach document click handler to document to watch\r\n            // for clicks outside the root element.\r\n            if(node.is(this.$element) && this.closeOnBlur && !this.$doc) {\r\n                this.$doc = $(document);\r\n                this.$doc.on('click', this._onDocumentClick);\r\n            }\r\n        };\r\n\r\n        let activateTimer = node.data(\"_cancelActivationTimer\");\r\n\r\n        if(activateTimer) {\r\n            activateTimer();\r\n        }\r\n\r\n        let cancel = null;\r\n\r\n        let r = new Promise(resolve => {\r\n            if(typeof delay === 'number' && Number.isFinite(delay) && delay >= 0) {\r\n                let timer = setTimeout(() => {\r\n                    activate();\r\n                    resolve('activated');\r\n                }, delay);\r\n\r\n                cancel = () => {\r\n                    if(timer) {\r\n                        node.data('_cancelActivationTimer', null);\r\n                        clearTimeout(timer);\r\n                        timer = null;\r\n                        resolve('canceled');\r\n                    }\r\n                };\r\n\r\n                node.data('_cancelActivationTimer', cancel);\r\n            } else {\r\n                activate();\r\n                resolve('activated');\r\n            }\r\n        });\r\n\r\n        r.cancel = cancel;\r\n\r\n        return r;\r\n    }\r\n\r\n    deactivate(node) {\r\n        node = $(node);\r\n        const type = this.getNodeType(node);\r\n        let activateTimer = node.data(\"_cancelActivationTimer\");\r\n\r\n        if(activateTimer) {\r\n            activateTimer();\r\n        }\r\n\r\n        if(this.isActive(node)) {\r\n            node.removeClass(CLASSNAMES.active);\r\n            node.trigger(EVENTS.deactivate, this);\r\n\r\n            if(node.is(this.$element) && this.$doc) {\r\n                this.$doc.off('click', this._onDocumentClick);\r\n                this.$doc = null;\r\n            }\r\n\r\n            this.getActiveChildren(node).each((x, child) => this.deactivate(child));\r\n\r\n            if(type === 'dropdown') {\r\n                this.closeMenu(this.getItemSubMenu(node));\r\n            }\r\n\r\n            if(type === 'item' || type === 'dropdown') {\r\n                const $parentMenu = this.getParentNode(node, 'menu');\r\n\r\n                if(this.isActive($parentMenu) && !this.getActiveChildren($parentMenu).length) {\r\n                    this.deactivate($parentMenu);\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    openMenu(menu, delay=false) {\r\n        menu = $(menu, this.$element);\r\n\r\n        if(!this.isOpen(menu)) {\r\n            const open = () => {\r\n                menu.data(\"_cancelOpenTimer\", null);\r\n                menu.addClass(CLASSNAMES.open);\r\n\r\n                let positioner = this.getPositioner(menu);\r\n\r\n                if(positioner) {\r\n                    positioner(menu, this);\r\n                }\r\n\r\n                menu.trigger(EVENTS.open, this);\r\n            };\r\n\r\n            let openTimer = menu.data(\"_cancelOpenTimer\");\r\n\r\n            if(openTimer) {\r\n                openTimer();\r\n            }\r\n\r\n            let cancel = null;\r\n\r\n            let r = new Promise(resolve => {\r\n                if(typeof delay === 'number' && delay >= 0 && Number.isFinite(delay)) {\r\n                    let timer = setTimeout(() => {\r\n                        timer = null;\r\n                        open();\r\n                        resolve('opened');\r\n                    }, delay);\r\n\r\n                    cancel = () => {\r\n                        if(timer) {\r\n                            clearTimeout(timer);\r\n                            timer = null;\r\n                            resolve(\"canceled\");\r\n                        }\r\n                    };\r\n\r\n                    menu.data(\"_cancelOpenTimer\", cancel);\r\n                } else {\r\n                    open();\r\n                    resolve(\"opened\");\r\n                }\r\n            });\r\n\r\n            r.cancel = cancel;\r\n            return r;\r\n        }\r\n    }\r\n\r\n    closeMenu(menu) {\r\n        menu = $(menu, this.$element);\r\n        let openTimer = menu.data(\"_cancelOpenTimer\");\r\n\r\n        if(openTimer) {\r\n            openTimer();\r\n        }\r\n\r\n        if(this.isOpen(menu)) {\r\n            menu.removeClass(CLASSNAMES.open);\r\n            menu.trigger(EVENTS.close, this);\r\n        }\r\n    }\r\n\r\n    select(node) {\r\n        return $(node, this.$element).trigger(EVENTS.select, this);\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Node Transversing\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    /**\r\n     * Returns the child items for menu nodes and the submenu for dropdown nodes.\r\n     * @param node\r\n     * @return {*}\r\n     */\r\n    getChildren(node) {\r\n        const type = this.getNodeType(node);\r\n\r\n        if(type === 'dropdown') {\r\n            return this.getItemSubMenu(node);\r\n        } else if(type === 'menu') {\r\n            return this.getChildMenuItems(node);\r\n        }\r\n    }\r\n\r\n    getChildMenuItems(node) {\r\n        node = $(node, this.$element);\r\n        let children = node.find(SELECTORS.menuitem);\r\n\r\n        return children.filter((x, item) => this.getParentNode(item).is(node));\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    /**\r\n     * Returns the direct child menus for the node.\r\n     * @param node\r\n     * @return {*}\r\n     */\r\n    getChildMenus(node) {\r\n        node = $(node, this.$element);\r\n        const type = this.getNodeType(node);\r\n        let children = node.find(SELECTORS.menu);\r\n\r\n        if(type === 'dropdown') {\r\n            return children.filter((x, item) => this.getParentNode(item).is(node));\r\n        } else if(type === 'menu') {\r\n            return children.filter((x, item) => this.getParentNode(item).is(node));\r\n        } else {\r\n            return $();\r\n        }\r\n    }\r\n\r\n    getItemSubMenu(item) {\r\n        return $(item, this.$element).children(SELECTORS.menu).eq(0);\r\n    }\r\n\r\n    getParentNode(node, type='all') {\r\n        return $(node, this.$element).parent().closest(SELECTORS[type], this.$element);\r\n    }\r\n\r\n    getClosestNode(node, type='all') {\r\n        const selector = SELECTORS[type];\r\n        node = $(node, this.$element);\r\n        return node.closest(selector, this.$element);\r\n    }\r\n\r\n    getActiveChildren(node) {\r\n        node = $(node, this.$element);\r\n        return node.find(SELECTORS.all).filter((x, child) => this.getParentNode(child).is(node) && $(child).hasClass(CLASSNAMES.active));\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // State testing\r\n\r\n    isActive(node) {\r\n        return $(node, this.$element).hasClass(CLASSNAMES.active);\r\n    }\r\n\r\n    isOpen(node) {\r\n        return $(node, this.$element).hasClass(CLASSNAMES.open);\r\n    }\r\n\r\n    isDisabled(node) {\r\n        return !!$(node).closest(`.${CLASSNAMES.disabled}`, this.$element).length;\r\n    }\r\n\r\n    /**\r\n     * Return the type of the given node.\r\n     * @param node {{length, is}}\r\n     * @return {null|'menu'|'dropdown'|'item'}\r\n     */\r\n    getNodeType(node) {\r\n        node = $(node, this.$element);\r\n\r\n        if(!node.length) {\r\n            return null;\r\n        } else if(node.is(SELECTORS.menu)) {\r\n            return 'menu';\r\n        } else if(node.is(SELECTORS.dropdown)) {\r\n            return 'dropdown';\r\n        } else if(node.is(SELECTORS.item)) {\r\n            return 'item';\r\n        }\r\n    }\r\n\r\n    isMenuItem(node) {\r\n        const type = this.getNodeType(node);\r\n        return type === 'dropdown' || type === 'item';\r\n    }\r\n\r\n    isDropDown(node) {\r\n        return this.getNodeType(node) === 'dropdown';\r\n    }\r\n\r\n    isMenu(node) {\r\n        return this.getNodeType(node) === 'menu';\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Events\r\n\r\n    onClick(event) {\r\n        if(this.isDisabled(event.target)) return;\r\n\r\n        const $target = this.getClosestNode(event.target);\r\n\r\n        if(this.isMenuItem($target)) {\r\n            return this._onClickMenuItem(event);\r\n        } else if(this.isMenu($target)) {\r\n            return this._onClickMenu(event);\r\n        }\r\n    }\r\n\r\n    onMouseOver(event) {\r\n        if(this.isDisabled(event.target)) return;\r\n\r\n        let $target = this.getClosestNode(event.target);\r\n\r\n        if(this._timer) {\r\n            clearTimeout(this._timer);\r\n            this._timer = null;\r\n        }\r\n\r\n        if($target[0].contains(event.relatedTarget)) return;\r\n\r\n        if(this.isMenuItem($target)) {\r\n            return this._onMouseOverMenuItem(event);\r\n        } else if(this.isMenu($target)) {\r\n            return this._onMouseOverMenu(event);\r\n        }\r\n    }\r\n\r\n    onMouseOut(event) {\r\n        if(this.isDisabled(event.target)) return;\r\n\r\n        // If the mouse leaves the root item and timeout is set start the timer.\r\n        if(!this._timer && typeof this.timeout === 'number' && this.timeout >= 0 && !this.$element[0].contains(event.relatedTarget)) {\r\n            this._timer = setTimeout(() => {\r\n                this._timer = null;\r\n                this.deactivate(this.$element);\r\n            }, this.timeout);\r\n        }\r\n\r\n        const $target = this.getClosestNode(event.target);\r\n\r\n        if($target[0].contains(event.relatedTarget)) return;\r\n\r\n        if(this.isMenuItem($target)) {\r\n            return this._onMouseOutMenuItem(event);\r\n        } else if(this.isMenu($target)) {\r\n            return this._onMouseOutMenu(event);\r\n        }\r\n    }\r\n\r\n    onDocumentClick(event) {\r\n        if(!this.$element[0].contains(event.target)) {\r\n            this.$doc.off('click', this._onDocumentClick);\r\n            this.$doc = null;\r\n            this.deactivate(this.$element);\r\n        } else if(!this.isActive(this.$element)) {\r\n            this.$doc = null;\r\n            this.deactivate(this.$element);\r\n        }\r\n    }\r\n\r\n    onSelect() {\r\n        if(this.isActive(this.$element) && this.closeOnSelect) {\r\n            this.deactivate(this.$element);\r\n        }\r\n    }\r\n\r\n    _onClickMenuItem(event) {\r\n        const $target = this.getClosestNode(event.target),\r\n            type = this.getNodeType($target),\r\n            isActive = this.isActive($target),\r\n            $parent = this.getParentNode($target, 'menu'),\r\n            toggle = this.getItemToggle($parent, $target);\r\n\r\n        if(type === 'item') {\r\n            if(this.getSelectable($target)) {\r\n                this.select($target);\r\n            }\r\n        } else {\r\n            if(!isActive && (toggle === 'both' || toggle === true || toggle === 'on')) {\r\n                this.activate($target);\r\n            } else if(isActive && (toggle === 'off' || toggle === 'both' || toggle === true)) {\r\n                this.deactivate($target);\r\n            }\r\n        }\r\n    }\r\n\r\n    _onMouseOverMenuItem(event) {\r\n        const $target = this.getClosestNode(event.target),\r\n            $parent = this.getParentNode($target, 'menu');\r\n\r\n        if(!this.isActive($target)) {\r\n            let delay = this.getItemActivationDelay($parent, $target);\r\n            let timer = this.activate($target, delay);\r\n\r\n            if(timer && timer.cancel) {\r\n                let cancel = (event) => {\r\n                    if(!$target[0].contains(event.relatedTarget)) {\r\n                        timer.cancel();\r\n                    }\r\n                };\r\n\r\n                $target.on('mouseout', cancel);\r\n\r\n                timer.then(() => {\r\n                    $target.off('mouseout', cancel);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    _onMouseOutMenuItem(event) {\r\n        const $target = this.getClosestNode(event.target);\r\n\r\n        if(!this.isDropDown($target)) {\r\n            this.deactivate($target);\r\n        }\r\n    }\r\n\r\n    _onClickMenu(event) {\r\n        const $target = this.getClosestNode(event.target),\r\n            toggle = parseBooleanString($target.data('menuToggle'));\r\n\r\n        if(this.isActive($target)) {\r\n            if(toggle === 'off' || toggle === 'both' || toggle === true) {\r\n                this.deactivate($target);\r\n            }\r\n        } else {\r\n            if(toggle === 'on' || toggle === 'both' || toggle === true) {\r\n                this.activate($target);\r\n            }\r\n        }\r\n    }\r\n\r\n    _onMouseOverMenu(event) {\r\n\r\n    }\r\n\r\n    _onMouseOutMenu(event) {\r\n\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Getter functions\r\n\r\n    getItemToggle(menu, item) {\r\n        menu = $(menu);\r\n        item = $(item);\r\n\r\n        let toggle = firstValue([\r\n            item.data('toggle'),\r\n            menu.data('toggleItems'),\r\n            'both'\r\n        ]);\r\n\r\n        if(toggle === 'true' || toggle === 'false') {\r\n            return toggle === 'true';\r\n        } else {\r\n            return toggle;\r\n        }\r\n    }\r\n\r\n    getMenuOpenDelay(menu) {\r\n        menu = $(menu);\r\n        let value = menu.data('openDelay');\r\n\r\n        if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else if(typeof value === 'number') {\r\n            return parseInteger(value, null, 10);\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    getItemActivationDelay(menu, item) {\r\n        menu = $(menu);\r\n        item = $(item);\r\n\r\n        let isParentActive = this.isActive(menu);\r\n\r\n        if(!isParentActive) {\r\n            let value = firstValue([\r\n                item.data('autoActivate'),\r\n                menu.data('autoActivate'),\r\n                0\r\n            ]);\r\n\r\n            if(value === 'true' || value === 'false') {\r\n                return value !== 'true';\r\n            } else if(typeof value === 'string') {\r\n                return parseInt(value, 10);\r\n            } else if(typeof value === 'boolean') {\r\n                return !value;\r\n            } else {\r\n                return value;\r\n            }\r\n        } else {\r\n            let delay = firstValue(\r\n                [\r\n                    item.data('delay'),\r\n                    menu.data('itemDelay'),\r\n                    false\r\n                ]\r\n            );\r\n\r\n            if(delay === 'true' || delay === 'false') {\r\n                return delay === 'true';\r\n            } else if(typeof delay === 'string') {\r\n                return parseInt(delay, 10);\r\n            } else {\r\n                return delay;\r\n            }\r\n        }\r\n    }\r\n\r\n    getMultiple(menu) {\r\n        return parseBoolean($(menu).data(\"multiple\"), false);\r\n    }\r\n\r\n    getSelectable(item) {\r\n        let value = $(item).data(\"selectable\");\r\n\r\n        if(value === undefined || value === null) {\r\n            return true;\r\n        } else if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    getPositioner(menu) {\r\n        menu = $(menu);\r\n        let value = firstValue([\r\n            menu.data(\"positioner\"),\r\n            this.$element.data(\"positioner\")\r\n        ]);\r\n\r\n        if(typeof value === 'string') {\r\n            return POSITIONER_REGISTRY[value];\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Properties\r\n\r\n    get timeout() {\r\n        let value = this.$element.data(\"timeout\");\r\n\r\n        if(typeof value === 'string') {\r\n            value = parseInt(value, 10);\r\n\r\n            if(!Number.isNaN(value) && value >= 0) {\r\n                return value;\r\n            }\r\n        } else if(typeof value === 'number') {\r\n            if(value >= 0 && !Number.isNaN(value)) {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    get closeOnBlur() {\r\n        let value = this.$element.data(\"closeOnBlur\");\r\n\r\n        if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else if(value !== undefined && value !== null) {\r\n            return value;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    get closeOnSelect() {\r\n        let value = this.$element.data(\"closeOnSelect\");\r\n\r\n        if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else if(value !== undefined && value !== null) {\r\n            return value;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nMenu.EVENTS = EVENTS;\r\nMenu.PREFIX = PREFIX;\r\nMenu.CONTROLLER = CONTROLLER;\r\nMenu.CLASSNAMES = CLASSNAMES;\r\nMenu.SELECTORS = SELECTORS;\r\nMenu.POSITIONER_REGISTRY = POSITIONER_REGISTRY;\r\n","export const PREFIX = 'menus.',\r\n    CONTROLLER = `${PREFIX}menu`;\r\n\r\n\r\nexport const SELECTORS = {\r\n    menu: \"[data-role~='menu']\",\r\n    item: \"[data-role~='item']\",\r\n    dropdown: \"[data-role~='dropdown']\"\r\n};\r\n\r\n\r\nSELECTORS.all = `${SELECTORS.menu}, ${SELECTORS.item}, ${SELECTORS.dropdown}`;\r\nSELECTORS.menuitem = `${SELECTORS.item}, ${SELECTORS.dropdown}`;\r\n\r\n\r\nexport const CLASSNAMES = {\r\n    open: 'open',\r\n    active: 'active',\r\n    disabled: 'disabled'\r\n};\r\n\r\n\r\nexport const EVENTS = {\r\n    select: `${PREFIX}select`,\r\n    activate: `${PREFIX}activate`,\r\n    deactivate: `${PREFIX}deactivate`,\r\n    open: `${PREFIX}open`,\r\n    close: `${PREFIX}close`\r\n};\r\n\r\n\r\nexport function addRole(element, ...roles) {\r\n    element = $(element);\r\n    let r = getRoles(element);\r\n\r\n    for(let item of roles) {\r\n        let i = r.indexOf(item);\r\n\r\n        if(i === -1) {\r\n            r.push(item);\r\n        }\r\n    }\r\n\r\n    r = r.join(' ');\r\n    element.attr(\"data-role\", r);\r\n    return r;\r\n}\r\n\r\n\r\nexport function removeRole(element, ...roles) {\r\n    element = $(element);\r\n    let r = getRoles(element);\r\n\r\n    for(let item of roles) {\r\n        let i = r.indexOf(item);\r\n\r\n        if(i !== -1) {\r\n            r.splice(i, 1);\r\n        }\r\n    }\r\n\r\n    r = r.join(' ');\r\n    element.attr(\"data-role\", r);\r\n    return r;\r\n}\r\n\r\n\r\nexport function hasRoles(element, ...roles) {\r\n    element = $(element);\r\n    let r = getRoles(element);\r\n\r\n    for(let item of roles) {\r\n        let i = r.indexOf(item);\r\n\r\n        if(i === -1) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n\r\nexport function getRoles(element) {\r\n    element = $(element);\r\n    let r = element.attr(\"data-role\");\r\n\r\n    if(!r) {\r\n        r = [];\r\n    } else {\r\n        r = r.split('/s+/');\r\n    }\r\n\r\n    return r;\r\n}\r\n","import Menu from './Menu';\r\nimport './loaders';\r\n\r\n\r\nexport {\r\n    Menu,\r\n}\r\n\r\n\r\nwindow.Menu = Menu;\r\n\r\n","import Loader from '../loader';\r\nimport Menu from './Menu';\r\nimport {setDefaultValues} from '../utility';\r\n\r\n\r\nLoader.register('menu', (target, config) => {\r\n    config.target = target;\r\n    return new Menu(config);\r\n});\r\n\r\n\r\nLoader.register('dropdown', (target, config) => {\r\n    config.role = \"dropdown\";\r\n    config.target = target;\r\n    let r = new Menu(config);\r\n\r\n    setDefaultValues(r.$element.data(), {\r\n        timeout: false,\r\n        closeOnBlur: true,\r\n        closeOnSelect: true,\r\n        toggle: true,\r\n        autoActivate: false\r\n    });\r\n\r\n    return r;\r\n});\r\n","const nill = {};\r\n\r\n\r\nexport function clamp(value, minValue=null, maxValue=null) {\r\n    if(minValue !== null) {\r\n        value = Math.max(value, minValue);\r\n    }\r\n\r\n    if(maxValue !== null) {\r\n        value = Math.min(value, maxValue);\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\nexport function firstValue(args) {\r\n    for(let item of args) {\r\n        if(item !== null && item !== undefined) {\r\n            return item;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function parseInteger(value, defaultValue=null, radix=10) {\r\n    value = parseInt(value, radix);\r\n\r\n    if(Number.isNaN(value)) {\r\n        return defaultValue;\r\n    } else {\r\n        return value;\r\n    }\r\n}\r\n\r\n\r\nexport function parseBoolean(value, defaultValue=null) {\r\n    if(typeof value === 'string') {\r\n        if(value === 'true') {\r\n            return true;\r\n        } else if(value === 'false') {\r\n            return false;\r\n        } else {\r\n            return defaultValue;\r\n        }\r\n    } else {\r\n        return !!value;\r\n    }\r\n}\r\n\r\n\r\nexport function parseBooleanString(value) {\r\n    if(value === 'true') {\r\n        return true;\r\n    } else if(value === 'false') {\r\n        return false;\r\n    } else {\r\n        return value;\r\n    }\r\n}\r\n\r\n\r\nexport function parseBooleanOrNumber(value, defaultValue=null, radix=10) {\r\n    if(value === 'true' || value === 'false') {\r\n        return value === 'true';\r\n    } else if(typeof value === 'boolean') {\r\n        return value;\r\n    } else {\r\n        return parseInteger(value, defaultValue, radix);\r\n    }\r\n}\r\n\r\n\r\nexport function setDefaultValues(target, defaults) {\r\n    for(let key in defaults) {\r\n        if(defaults.hasOwnProperty(key) && (!target.hasOwnProperty(key) || target[key] === undefined)) {\r\n            target[key] = defaults[key];\r\n        }\r\n    }\r\n}\r\n","module.exports = jQuery;"],"sourceRoot":""}