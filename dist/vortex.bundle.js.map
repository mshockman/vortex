{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/apps.js","webpack:///./src/common/Mouse.js","webpack:///./src/common/matricies.js","webpack:///./src/components/Modal.js","webpack:///./src/components/Panes.js","webpack:///./src/components/resizeable.js","webpack:///./src/components/toggle.js","webpack:///./src/index.js","webpack:///./src/loader.js","webpack:///./src/menus/Menu.js","webpack:///./src/menus/core.js","webpack:///./src/menus/index.js","webpack:///./src/menus/loaders.js","webpack:///./src/utility.js","webpack:///external \"jQuery\""],"names":["Application","classes","page","isLoaded","name","cls","hasOwnProperty","key","Error","context","pageClassImporter","PageClass","default","load","Mouse","isMouseTracked","callback","$doc","$","document","untrack","off","onMouseMove","_untrackMousePosition","event","pageX","pageY","on","privotRow","matrixAdd","matrixSub","dotProduct","getRowVertex","getColumnVertex","matrixProduct","row","r","i","length","push","m1","m2","m","n","v1","v2","index","j","PREFIX","EVENTS","OPEN","CLOSE","Modal","target","$element","attr","_onClick","onClick","bind","data","$target","$dismiss","closest","is","close","addClass","trigger","removeClass","isOpen","open","hasClass","Loader","register","window","Panes","element","pane","Resizeable","resizing","ui","console","dir","to","panes","config","resize","minWidth","maxWidth","minHeight","maxHeight","handle","exclude","css","_onMouseDown","onMouseDown","_width","_height","selector","appendTo","log","isDisabled","originMatrix","start","width","height","tracker","trackMousePosition","cords","_getTransformationMatrix","size","_setCords","text","onMouseUp","split","matrix","indexOf","controller","from","render","_animationId","requestAnimationFrame","isWidthResizeable","isHeightResizeable","resized","parseInt","value","Toggle","initialized","toggle","registry","parse","func","section","find","addBack","each","x","getAttribute","c","Object","assign","fn","loader","init","POSITIONER_REGISTRY","menuTemplate","Menu","timeout","closeOnBlur","closeOnSelect","positioner","role","_onMouseOver","onMouseOver","_onMouseOut","onMouseOut","_onSelect","onSelect","_onDocumentClick","onDocumentClick","setElement","undefined","destroy","CONTROLLER","select","node","delay","activate","parent","getParentNode","type","getNodeType","isActive","CLASSNAMES","active","getMultiple","getActiveChildren","not","item","deactivate","submenu","getItemSubMenu","openMenu","getMenuOpenDelay","activateTimer","cancel","Promise","Number","isFinite","timer","setTimeout","resolve","clearTimeout","child","closeMenu","$parentMenu","menu","getPositioner","openTimer","getChildMenuItems","children","SELECTORS","menuitem","filter","eq","all","disabled","dropdown","getClosestNode","isMenuItem","_onClickMenuItem","isMenu","_onClickMenu","_timer","contains","relatedTarget","_onMouseOverMenuItem","_onMouseOverMenu","_onMouseOutMenuItem","_onMouseOutMenu","$parent","getItemToggle","getSelectable","getItemActivationDelay","then","isDropDown","isParentActive","isNaN","addRole","removeRole","hasRoles","getRoles","roles","join","splice","autoActivate","clamp","firstValue","parseInteger","parseBoolean","parseBooleanString","parseBooleanOrNumber","setDefaultValues","nill","minValue","maxValue","Math","max","min","args","defaultValue","radix","defaults"],"mappings":"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","file":"vortex.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import $ from 'jquery';\r\n\r\n\r\nexport default class Application {\r\n    constructor(classes=null) {\r\n        this.classes = classes || {};\r\n        this.page = null;\r\n        this.isLoaded = false;\r\n    }\r\n\r\n    registerPage(name, cls) {\r\n        if(this.classes.hasOwnProperty(key) && this.classes[key]) {\r\n            throw new Error(\"Duplicate Class Key.\");\r\n        }\r\n\r\n        this.classes[key] = cls;\r\n    }\r\n\r\n    init(page, context) {\r\n        if(this.page) {\r\n            throw new Error(\"Page already loaded.\");\r\n        }\r\n\r\n        $(async () => {\r\n            this.isLoaded = true;\r\n\r\n            const pageClassImporter = this.classes[page],\r\n                PageClass = (await pageClassImporter()).default;\r\n\r\n            this.page = new PageClass(context);\r\n            this.page.load();\r\n        });\r\n    }\r\n}\r\n","\r\nexport default class Mouse {\r\n    constructor() {\r\n        this.isMouseTracked = false;\r\n    }\r\n\r\n    trackMousePosition(callback) {\r\n        if(this.isMouseTracked) {\r\n            throw new Error(\"Mouse is already being tracked.\");\r\n        }\r\n\r\n        const $doc = $(document);\r\n\r\n        const untrack = () => {\r\n            $doc.off('mousemove', onMouseMove);\r\n            this.isMouseTracked = false;\r\n            this._untrackMousePosition = null;\r\n        };\r\n\r\n        const onMouseMove = (event) => {\r\n            callback(event, [event.pageX, event.pageY]);\r\n        };\r\n\r\n        this.isMouseTracked = true;\r\n        this._untrackMousePosition = untrack;\r\n        $doc.on('mousemove', onMouseMove);\r\n\r\n        return {\r\n            $doc: $doc,\r\n            untrack: untrack,\r\n            callback: callback\r\n        };\r\n    }\r\n\r\n    untrackMousePosition() {\r\n        if(this._untrackMousePosition) {\r\n            this._untrackMousePosition();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n","\r\nexport function privotRow(row) {\r\n    let r = [];\r\n\r\n    for(let i = 0; i < row.length; i++) {\r\n        r.push([row[i]]);\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\nexport function matrixAdd(m1, m2) {\r\n    let r = [];\r\n\r\n    for(let m = 0; m < m1.length; m++) {\r\n        r.push([]);\r\n\r\n        for(let n = 0; n < m1[m].length; n++) {\r\n            r[m].push(\r\n                m1[m][n] + m2[m][n]\r\n            );\r\n        }\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\nexport function matrixSub(m1, m2) {\r\n    let r = [];\r\n\r\n    for(let m = 0; m < m1.length; m++) {\r\n        r.push([]);\r\n\r\n        for(let n = 0; n < m1[m].length; n++) {\r\n            r[m].push(\r\n                m1[m][n] - m2[m][n]\r\n            );\r\n        }\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\nexport function dotProduct(v1, v2) {\r\n    let r = 0;\r\n\r\n    for(let i = 0; i < v1.length; i++) {\r\n        r += v1[i] * v2[i];\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\nexport function getRowVertex(m, index) {\r\n    return m[index];\r\n}\r\n\r\n\r\nexport function getColumnVertex(m, index) {\r\n    let r = [];\r\n\r\n    for(let i = 0; i < m.length; i++) {\r\n        r.push(m[i][index]);\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\nexport function matrixProduct(m1, m2) {\r\n    let r = [];\r\n\r\n    for(let i = 0; i < m2.length; i++) {\r\n        r.push([]);\r\n\r\n        for(let j = 0; j < m2[0].length; j++) {\r\n            r[i].push(dotProduct(\r\n                getRowVertex(m1, i),\r\n                getColumnVertex(m2, j)\r\n            ));\r\n        }\r\n    }\r\n\r\n    return r;\r\n}\r\n","import $ from 'jquery';\r\nimport Loader from '../loader';\r\n\r\n\r\nconst PREFIX = 'models.';\r\n\r\n\r\nconst EVENTS = {\r\n    OPEN: `${PREFIX}open`,\r\n    CLOSE: `${PREFIX}.close`\r\n};\r\n\r\n\r\nexport default class Modal {\r\n    constructor(target) {\r\n        this.$element = $(target);\r\n        this.$element.attr('data-role', 'modal');\r\n\r\n        this._onClick = this.onClick.bind(this);\r\n        this.$element.on('click', this._onClick);\r\n        this.$element.data('modal', this);\r\n    }\r\n\r\n    onClick(event) {\r\n        const $target = $(event.target);\r\n\r\n        let $dismiss = $target.closest('[data-action=\"dismiss\"]');\r\n\r\n        if($target.is(\"[data-role='modal']\") || $dismiss.length) {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    open() {\r\n        this.$element.addClass('open');\r\n        this.$element.trigger(EVENTS.OPEN, this);\r\n    }\r\n\r\n    close() {\r\n        this.$element.removeClass('open');\r\n        this.$element.trigger(EVENTS.CLOSE, this);\r\n    }\r\n\r\n    get isOpen() {\r\n        return this.$element.hasClass('open');\r\n    }\r\n\r\n    toggle() {\r\n        if(this.isOpen) {\r\n            this.close();\r\n        } else {\r\n            this.open();\r\n        }\r\n    }\r\n}\r\n\r\n\r\nLoader.register('modal', (target) => {\r\n    return new Modal(target);\r\n});\r\n\r\n\r\nwindow.Modal = Modal;","import Loader from '../loader';\r\nimport Resizeable from './resizeable';\r\n\r\n\r\nexport default class Panes {\r\n    constructor(element, {pane='x'}) {\r\n        this.$element = $(element);\r\n        this.pane = pane;\r\n\r\n        this.$element.on(Resizeable.EVENTS.resizing, (event, ui) => {\r\n            console.dir(ui.to);\r\n        });\r\n    }\r\n\r\n    getPanesWidth(panes) {\r\n        // current width\r\n        // min width\r\n    }\r\n}\r\n\r\n\r\nLoader.register('panes', (target, config) => {\r\n    return new Panes(target, config);\r\n});\r\n","import Mouse from '../common/Mouse';\r\nimport {matrixSub, matrixProduct, privotRow, getColumnVertex, matrixAdd} from \"../common/matricies\";\r\nimport Loader from '../loader';\r\nimport {clamp, parseInteger} from '../utility';\r\n\r\n\r\nconst PREFIX = 'resizeable.';\r\n\r\n\r\nconst EVENTS = {\r\n    'resizing': `${PREFIX}resizing`,\r\n    'resized': `${PREFIX}resized`\r\n};\r\n\r\n\r\nexport default class Resizeable extends Mouse {\r\n    constructor(element, {resize='x y', minWidth=0, maxWidth=null, minHeight=0, maxHeight=null, handle=null, exclude=null}) {\r\n        super();\r\n\r\n        this.$element = $(element);\r\n        this.resize = resize;\r\n        this.minWidth = parseInteger(minWidth, parseInteger(this.$element.css('minWidth'), 0));\r\n        this.minHeight = parseInteger(minHeight, parseInteger(this.$element.css('minHeight'), 0));\r\n        this.maxWidth = parseInteger(maxWidth, parseInteger(this.$element.css('maxWidth'), null));\r\n        this.maxHeight = parseInteger(maxHeight, parseInteger(this.$element.css('maxHeight'), null));\r\n        this.handle = handle;\r\n        this.exclude = exclude;\r\n\r\n        this._onMouseDown = this.onMouseDown.bind(this);\r\n        this._width = null;\r\n        this._height = null;\r\n\r\n        this.$element.on('mousedown', this._onMouseDown);\r\n    }\r\n\r\n    appendTo(selector) {\r\n        return this.$element.appendTo(selector);\r\n    }\r\n\r\n    onMouseDown(event) {\r\n        console.log(\"here\");\r\n        let $target = $(event.target);\r\n\r\n        if(this.handle && !$target.closest(this.handle, this.$element).length) {\r\n            return;\r\n        } if(this.exclude && $target.closest(this.exclude, this.$element).length) {\r\n            return;\r\n        } else if(this.isDisabled) {\r\n            return;\r\n        }\r\n\r\n        let originMatrix = [[event.pageX], [event.pageY]],\r\n            start = [[this.width], [this.height]];\r\n\r\n        // Start tracking mouse position on mouse move.\r\n        let tracker = this.trackMousePosition((event, cords) => {\r\n            cords = matrixSub(privotRow(cords), originMatrix); // Offset cordinents so the origin is the starting position.\r\n            cords = matrixProduct(this._getTransformationMatrix(), cords); // Transform the matrix.\r\n\r\n            let size = getColumnVertex(matrixAdd(start, cords), 0);\r\n\r\n            this._setCords(size);\r\n\r\n            $(\"#test-output\").text(`${this.width}, ${this.height}`);\r\n        });\r\n\r\n        // Add event listeners to untrack mouse on mouse up.\r\n        const onMouseUp = (event) => {\r\n            tracker.untrack();\r\n            tracker.callback(event, [event.pageX, event.pageY]);\r\n            tracker.$doc.off('mouseup', onMouseUp);\r\n        };\r\n\r\n        tracker.$doc.on('mouseup', onMouseUp);\r\n    }\r\n\r\n    _getTransformationMatrix() {\r\n        let resize = this.resize.split(/\\s+/),\r\n            matrix = [[1, 0], [0, 1]];\r\n\r\n        if(resize.indexOf('-x') !== -1) {\r\n            matrix[0] = [-1, 0];\r\n        }\r\n\r\n        if(resize.indexOf('-y') !== -1) {\r\n            matrix[1] = [0, -1];\r\n        }\r\n\r\n        return matrix;\r\n    }\r\n\r\n   _setCords(cords) {\r\n        let width = this.width,\r\n            height = this.height;\r\n\r\n        this.width = cords[0];\r\n        this.height = cords[1];\r\n\r\n        if(this.width !== width || this.height !== height) {\r\n            let event = {\r\n                controller: this,\r\n                from: [width, height],\r\n                to: [this.width, this.height],\r\n            };\r\n\r\n            this.$element.trigger(EVENTS.resizing, event);\r\n\r\n            this.width = event.to[0];\r\n            this.height = event.to[1];\r\n\r\n            this.render();\r\n        }\r\n   }\r\n\r\n   get width() {\r\n        if(this._width === null) {\r\n            this.width = parseInt(this.$element.css('width'), 10);\r\n        }\r\n\r\n        return this._width;\r\n   }\r\n\r\n   set width(value) {\r\n        if(this.isWidthResizeable) {\r\n            this._width = clamp(value, this.minWidth, this.maxWidth);\r\n        }\r\n   }\r\n\r\n   get height() {\r\n        if(this._height === null) {\r\n            this.height = parseInt(this.$element.css('height'), 10);\r\n        }\r\n\r\n        return this._height;\r\n   }\r\n\r\n   set height(value) {\r\n        if(this.isHeightResizeable) {\r\n            this._height = clamp(value, this.minHeight, this.maxHeight);\r\n        }\r\n   }\r\n\r\n   render() {\r\n        if(this._animationId) return;\r\n\r\n        this._animationId = window.requestAnimationFrame(() => {\r\n            this._animationId = null;\r\n            let r = {};\r\n\r\n            if(this.isWidthResizeable) {\r\n                r.width = this.width;\r\n            }\r\n\r\n            if(this.isHeightResizeable) {\r\n                r.height = this.height;\r\n            }\r\n\r\n            this.$element.css(r);\r\n\r\n            this.$element.trigger(EVENTS.resized, {\r\n                controller: this,\r\n                size: {\r\n                    width: this.width,\r\n                    height: this.height\r\n                }\r\n            });\r\n        });\r\n   }\r\n\r\n   get isWidthResizeable() {\r\n       let resize = this.resize.split(/\\s+/);\r\n       return resize.indexOf('x') !== -1 || resize.indexOf('-x') !== -1;\r\n   }\r\n\r\n    get isHeightResizeable() {\r\n        let resize = this.resize.split(/\\s+/);\r\n        return resize.indexOf('y') !== -1 || resize.indexOf('-y') !== -1;\r\n    }\r\n}\r\n\r\n\r\nResizeable.EVENTS = EVENTS;\r\nResizeable.PREFIX = PREFIX;\r\n\r\n\r\nwindow.Resizeable = Resizeable;\r\n\r\n\r\nLoader.register('resizeable', (target, config) => {\r\n    return new Resizeable(target, config);\r\n});\r\n","import $ from 'jquery';\r\nimport Loader from '../loader';\r\n\r\n\r\nexport default class Toggle {\r\n    constructor(target) {\r\n        this.$element = $(target);\r\n\r\n        this._onClick = this.onClick.bind(this);\r\n        this.$element.on('click', this._onClick);\r\n    }\r\n\r\n    onClick(event) {\r\n        let $target = $(event.target).closest(\"[data-toggle]\", this.$element);\r\n\r\n        if($target.length) {\r\n            let [selector, key] = $target.attr('data-toggle').split(/\\s*->\\s*/),\r\n                element = $(selector),\r\n                initialized = element.data('initialized');\r\n\r\n            if(key) {\r\n                initialized[key].toggle();\r\n            } else if(initialized) {\r\n                for(let key in initialized) {\r\n                    if(initialized.hasOwnProperty(key)) {\r\n                        if(initialized[key].toggle) {\r\n                            initialized[key].toggle();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nLoader.register('toggle', (target) => {\r\n    return new Toggle(target);\r\n});\r\n","import './menus';\r\nimport Loader from './loader';\r\nimport './components/toggle';\r\nimport './components/Modal';\r\nimport Application from './apps';\r\nimport './components/resizeable';\r\nimport './components/Panes';\r\n\r\n\r\nexport {\r\n    Loader,\r\n    Application\r\n};\r\n","import $ from 'jquery';\r\n\r\n\r\nexport default class Loader {\r\n    static loader = null;\r\n\r\n    constructor() {\r\n        this.registry = {};\r\n    }\r\n\r\n    init() {\r\n        $(this.parse.bind(this));\r\n    }\r\n\r\n    register(name, func) {\r\n        if(this.registry.hasOwnProperty(name) && this.registry[name]) {\r\n            throw new Error(\"Auto Loading name conflict.\");\r\n        }\r\n\r\n        this.registry[name] = func;\r\n    }\r\n\r\n    parse(section=null) {\r\n        if(section === null) {\r\n            section = $(\"[data-init]\");\r\n        } else {\r\n            section = $(section).find(\"[data-init]\").addBack(\"[data-init]\");\r\n        }\r\n\r\n        section.each((x, element) => {\r\n            const classes = element.getAttribute(\"data-init\").split(/\\s+/);\r\n\r\n            for(let c of classes) {\r\n                if(this.registry[c]) {\r\n                    let target = element,\r\n                        data = {},\r\n                        r;\r\n\r\n                    element = $(element);\r\n                    Object.assign(data, element.data());\r\n\r\n                    r = this.registry[c](target, data);\r\n                    data = element.data();\r\n\r\n                    if(r) {\r\n                        if(!data.initialized) {\r\n                            data.initialized = {};\r\n                        }\r\n\r\n                        data.initialized[c] = r;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    static register(name, fn) {\r\n        return this.loader.register(name, fn);\r\n    }\r\n\r\n    static init() {\r\n        return this.loader.init();\r\n    }\r\n}\r\n\r\n\r\nLoader.loader = new Loader();\r\nwindow.Loader = Loader;","/**\r\n * Package for create menus.\r\n *\r\n * Menus are defined and controlled using their dom structure.  Attributes are stored on the individual nodes and are\r\n * accessed and retrieved using jQueries data method.  So you can use manual data-attribute html attributes in your code\r\n * or programmically assign attributes using the data method.\r\n *\r\n * All events are attached to the root element of the menu.  Any incoming events are delegated from their to the\r\n * necessary menu nodes if needed.\r\n *\r\n * The data-role attribute determines what kind of menu node an element is.  When looking for child and parent nodes\r\n * any element that isn't marked with a data-role attribute is ignored.  Their are three types of nodes in the menu.\r\n * Those nodes are:\r\n *\r\n * - menu;\r\n * - item;\r\n * - dropdown;\r\n *\r\n * A menu is a collection of dropdown items and items.  A dropdown will add another layer to the menu tree.  An item\r\n * is a selectable item and shouldn't have a submenu.\r\n *\r\n * There are three places where attributes can be set.  On the root element, on the menu elements or on the item elements.\r\n * Each of these nodes have different attributes that can be modified.  Some attributes are inherited from their parents\r\n * if they are not manually set on child element.  All attributes come with sensible defaults.\r\n *\r\n * Root attribute\r\n * - closeOnSelect\r\n * - closeOnBlur\r\n * - timeout\r\n * - positioner\r\n *\r\n * Menu attributes\r\n * - openDelay {Number} Default 0\r\n *   Adds a delay after an item activates before it shows it's menu.\r\n * - multiple {boolean} Default false\r\n *   If true multiple items can be active at the same time for the menu.\r\n * - autoActivate {Number|boolean} Default true\r\n *   Controls if child items activate when the mouse moves over them when the menu is not active.  This is mostly used\r\n *   for root elements because most of the time menus are hidden when they are not active so child items cannot be hovered\r\n *   over.  If a number greater than or equal to 0 The item will activate after the given amount of time in milliseconds.\r\n *   If true if item will activate instantly.  If anything else the item will never activate on mouse over.\r\n *   This can be overidden by autoActivate at the item level.\r\n * - itemDelay {Number|boolean} Default 0\r\n *   Controls if child items activate when the mouse moves over them when the menu is already active.  If >= 0 the item\r\n *   will activate after the given amount of time.  If true if item will never activate.  This attribute can be overridden\r\n *   at the item level by setting the delay attribute.\r\n * - toggleItems {boolean|'on'|'off'|'both'}\r\n *   Controls how the menu's child items behave when clicked.  This can be overridden by the items toggle property.\r\n *   If true or 'both' the item will toggle on and off when clicked.  If 'on' the item will only toggle on.  If 'off'\r\n *   the item will only toggle off.  If false the item will never toggle on or off.  This is primarily used by dropdown\r\n *   items as items will be selected when clicked and turn off the menu if close on select is true.\r\n * - menuToggle\r\n * - positioner\r\n *\r\n * Item attributes\r\n * - selectable\r\n * - autoActivate\r\n * - toggle\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport {firstValue, parseBoolean, parseBooleanString, parseInteger} from '../utility';\r\nimport {CLASSNAMES, PREFIX, EVENTS, SELECTORS, CONTROLLER, addRole} from './core';\r\n\r\n\r\nconst POSITIONER_REGISTRY = {};\r\n\r\n\r\nfunction menuTemplate() {\r\n    return `<div class='menu' data-role='menu'>`;\r\n}\r\n\r\n\r\n/**\r\n * A grouping of items that act in sync together.\r\n */\r\nexport default class Menu {\r\n    constructor({target=menuTemplate, timeout=null, closeOnBlur=null, closeOnSelect=null, positioner=null, role=null}) {\r\n        this._onMouseOver = this.onMouseOver.bind(this);\r\n        this._onMouseOut = this.onMouseOut.bind(this);\r\n        this._onClick = this.onClick.bind(this);\r\n        this._onSelect = this.onSelect.bind(this);\r\n        this._onDocumentClick = this.onDocumentClick.bind(this);\r\n\r\n        if(typeof target === 'function') {\r\n            this.setElement(target(this));\r\n        } else {\r\n            this.setElement(target);\r\n        }\r\n\r\n        let config = {\r\n            timeout: timeout,\r\n            closeOnBlur: closeOnBlur,\r\n            closeOnSelect: closeOnSelect,\r\n            positioner: positioner\r\n        };\r\n\r\n        for(let key in config) {\r\n            if(config.hasOwnProperty(key) && config[key] !== null && config[key] !== undefined) {\r\n                this.$element.data(key, config[key]);\r\n            }\r\n        }\r\n\r\n        if(role) {\r\n            addRole(this.$element, role);\r\n        }\r\n    }\r\n\r\n    setElement(element) {\r\n        if(this.$element) {\r\n            this.destroy();\r\n        }\r\n\r\n        this.$element = $(element);\r\n        this.$element.data(CONTROLLER, this);\r\n        this.$element.on('click', this._onClick);\r\n        this.$element.on('mouseover', this._onMouseOver);\r\n        this.$element.on('mouseout', this._onMouseOut);\r\n        this.$element.on(EVENTS.select, this._onSelect);\r\n    }\r\n\r\n    destroy() {\r\n        this.$element.off('click', this._onClick);\r\n        this.$element.off('mouseover', this._onMouseOver);\r\n        this.$element.off('mouseout', this._onMouseOut);\r\n        this.$element.off(EVENTS.select, this._onSelect);\r\n\r\n        if(this.$doc) {\r\n            this.$doc.off('click', this._onDocumentClick);\r\n            this.$doc = null;\r\n        }\r\n\r\n        this.$element.data(CONTROLLER, null);\r\n        this.$element = null;\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    /**\r\n     * Appends the menu to the selector.\r\n     * @param selector\r\n     * @return {*}\r\n     */\r\n    appendTo(selector) {\r\n        return this.$element.appendTo(selector);\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    getInstance(selector) {\r\n        return $(selector).data(CONTROLLER);\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Actions\r\n\r\n    activate(node, delay=false) {\r\n        node = $(node, this.$element);\r\n\r\n        if(delay === true) {\r\n            return;\r\n        }\r\n\r\n        const activate = () => {\r\n            const parent = this.getParentNode(node),\r\n                type = this.getNodeType(node);\r\n\r\n            // Clear _activateTimer reference.\r\n            node.data('_cancelActivationTimer', null);\r\n\r\n            // If parent exists activate it if it is not.\r\n            if(parent.length && !this.isActive(parent)) {\r\n                this.activate(parent);\r\n            }\r\n\r\n            // Add class and trigger events.\r\n            node.addClass(CLASSNAMES.active);\r\n            node.trigger(EVENTS.activate, this);\r\n\r\n            // Clear other active items if multiple is not true.\r\n            if(parent.length && !this.getMultiple(parent)) {\r\n                this.getActiveChildren(parent).not(node).each((x, item) => this.deactivate(item));\r\n            }\r\n\r\n            // If it is a dropdown the menu should be shown.\r\n            if(type === 'dropdown') {\r\n                const submenu = this.getItemSubMenu(node);\r\n\r\n                if(submenu.length) {\r\n                    this.openMenu(submenu, this.getMenuOpenDelay(submenu));\r\n                }\r\n            }\r\n\r\n            // If activating the root node attach document click handler to document to watch\r\n            // for clicks outside the root element.\r\n            if(node.is(this.$element) && this.closeOnBlur && !this.$doc) {\r\n                this.$doc = $(document);\r\n                this.$doc.on('click', this._onDocumentClick);\r\n            }\r\n        };\r\n\r\n        let activateTimer = node.data(\"_cancelActivationTimer\");\r\n\r\n        if(activateTimer) {\r\n            activateTimer();\r\n        }\r\n\r\n        let cancel = null;\r\n\r\n        let r = new Promise(resolve => {\r\n            if(typeof delay === 'number' && Number.isFinite(delay) && delay >= 0) {\r\n                let timer = setTimeout(() => {\r\n                    activate();\r\n                    resolve('activated');\r\n                }, delay);\r\n\r\n                cancel = () => {\r\n                    if(timer) {\r\n                        node.data('_cancelActivationTimer', null);\r\n                        clearTimeout(timer);\r\n                        timer = null;\r\n                        resolve('canceled');\r\n                    }\r\n                };\r\n\r\n                node.data('_cancelActivationTimer', cancel);\r\n            } else {\r\n                activate();\r\n                resolve('activated');\r\n            }\r\n        });\r\n\r\n        r.cancel = cancel;\r\n\r\n        return r;\r\n    }\r\n\r\n    deactivate(node) {\r\n        node = $(node);\r\n        const type = this.getNodeType(node);\r\n        let activateTimer = node.data(\"_cancelActivationTimer\");\r\n\r\n        if(activateTimer) {\r\n            activateTimer();\r\n        }\r\n\r\n        if(this.isActive(node)) {\r\n            node.removeClass(CLASSNAMES.active);\r\n            node.trigger(EVENTS.deactivate, this);\r\n\r\n            if(node.is(this.$element) && this.$doc) {\r\n                this.$doc.off('click', this._onDocumentClick);\r\n                this.$doc = null;\r\n            }\r\n\r\n            this.getActiveChildren(node).each((x, child) => this.deactivate(child));\r\n\r\n            if(type === 'dropdown') {\r\n                this.closeMenu(this.getItemSubMenu(node));\r\n            }\r\n\r\n            if(type === 'item' || type === 'dropdown') {\r\n                const $parentMenu = this.getParentNode(node, 'menu');\r\n\r\n                if(this.isActive($parentMenu) && !this.getActiveChildren($parentMenu).length) {\r\n                    this.deactivate($parentMenu);\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    openMenu(menu, delay=false) {\r\n        menu = $(menu, this.$element);\r\n\r\n        if(!this.isOpen(menu)) {\r\n            const open = () => {\r\n                menu.data(\"_cancelOpenTimer\", null);\r\n                menu.addClass(CLASSNAMES.open);\r\n\r\n                let positioner = this.getPositioner(menu);\r\n\r\n                if(positioner) {\r\n                    positioner(menu, this);\r\n                }\r\n\r\n                menu.trigger(EVENTS.open, this);\r\n            };\r\n\r\n            let openTimer = menu.data(\"_cancelOpenTimer\");\r\n\r\n            if(openTimer) {\r\n                openTimer();\r\n            }\r\n\r\n            let cancel = null;\r\n\r\n            let r = new Promise(resolve => {\r\n                if(typeof delay === 'number' && delay >= 0 && Number.isFinite(delay)) {\r\n                    let timer = setTimeout(() => {\r\n                        timer = null;\r\n                        open();\r\n                        resolve('opened');\r\n                    }, delay);\r\n\r\n                    cancel = () => {\r\n                        if(timer) {\r\n                            clearTimeout(timer);\r\n                            timer = null;\r\n                            resolve(\"canceled\");\r\n                        }\r\n                    };\r\n\r\n                    menu.data(\"_cancelOpenTimer\", cancel);\r\n                } else {\r\n                    open();\r\n                    resolve(\"opened\");\r\n                }\r\n            });\r\n\r\n            r.cancel = cancel;\r\n            return r;\r\n        }\r\n    }\r\n\r\n    closeMenu(menu) {\r\n        menu = $(menu, this.$element);\r\n        let openTimer = menu.data(\"_cancelOpenTimer\");\r\n\r\n        if(openTimer) {\r\n            openTimer();\r\n        }\r\n\r\n        if(this.isOpen(menu)) {\r\n            menu.removeClass(CLASSNAMES.open);\r\n            menu.trigger(EVENTS.close, this);\r\n        }\r\n    }\r\n\r\n    select(node) {\r\n        return $(node, this.$element).trigger(EVENTS.select, this);\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Node Transversing\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    /**\r\n     * Returns the child items for menu nodes and the submenu for dropdown nodes.\r\n     * @param node\r\n     * @return {*}\r\n     */\r\n    getChildren(node) {\r\n        const type = this.getNodeType(node);\r\n\r\n        if(type === 'dropdown') {\r\n            return this.getItemSubMenu(node);\r\n        } else if(type === 'menu') {\r\n            return this.getChildMenuItems(node);\r\n        }\r\n    }\r\n\r\n    getChildMenuItems(node) {\r\n        node = $(node, this.$element);\r\n        let children = node.find(SELECTORS.menuitem);\r\n\r\n        return children.filter((x, item) => this.getParentNode(item).is(node));\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    /**\r\n     * Returns the direct child menus for the node.\r\n     * @param node\r\n     * @return {*}\r\n     */\r\n    getChildMenus(node) {\r\n        node = $(node, this.$element);\r\n        const type = this.getNodeType(node);\r\n        let children = node.find(SELECTORS.menu);\r\n\r\n        if(type === 'dropdown') {\r\n            return children.filter((x, item) => this.getParentNode(item).is(node));\r\n        } else if(type === 'menu') {\r\n            return children.filter((x, item) => this.getParentNode(item).is(node));\r\n        } else {\r\n            return $();\r\n        }\r\n    }\r\n\r\n    getItemSubMenu(item) {\r\n        return $(item, this.$element).children(SELECTORS.menu).eq(0);\r\n    }\r\n\r\n    getParentNode(node, type='all') {\r\n        return $(node, this.$element).parent().closest(SELECTORS[type], this.$element);\r\n    }\r\n\r\n    getClosestNode(node, type='all') {\r\n        const selector = SELECTORS[type];\r\n        node = $(node, this.$element);\r\n        return node.closest(selector, this.$element);\r\n    }\r\n\r\n    getActiveChildren(node) {\r\n        node = $(node, this.$element);\r\n        return node.find(SELECTORS.all).filter((x, child) => this.getParentNode(child).is(node) && $(child).hasClass(CLASSNAMES.active));\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // State testing\r\n\r\n    isActive(node) {\r\n        return $(node, this.$element).hasClass(CLASSNAMES.active);\r\n    }\r\n\r\n    isOpen(node) {\r\n        return $(node, this.$element).hasClass(CLASSNAMES.open);\r\n    }\r\n\r\n    isDisabled(node) {\r\n        return !!$(node).closest(`.${CLASSNAMES.disabled}`, this.$element).length;\r\n    }\r\n\r\n    /**\r\n     * Return the type of the given node.\r\n     * @param node {{length, is}}\r\n     * @return {null|'menu'|'dropdown'|'item'}\r\n     */\r\n    getNodeType(node) {\r\n        node = $(node, this.$element);\r\n\r\n        if(!node.length) {\r\n            return null;\r\n        } else if(node.is(SELECTORS.menu)) {\r\n            return 'menu';\r\n        } else if(node.is(SELECTORS.dropdown)) {\r\n            return 'dropdown';\r\n        } else if(node.is(SELECTORS.item)) {\r\n            return 'item';\r\n        }\r\n    }\r\n\r\n    isMenuItem(node) {\r\n        const type = this.getNodeType(node);\r\n        return type === 'dropdown' || type === 'item';\r\n    }\r\n\r\n    isDropDown(node) {\r\n        return this.getNodeType(node) === 'dropdown';\r\n    }\r\n\r\n    isMenu(node) {\r\n        return this.getNodeType(node) === 'menu';\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Events\r\n\r\n    onClick(event) {\r\n        if(this.isDisabled(event.target)) return;\r\n\r\n        const $target = this.getClosestNode(event.target);\r\n\r\n        if(this.isMenuItem($target)) {\r\n            return this._onClickMenuItem(event);\r\n        } else if(this.isMenu($target)) {\r\n            return this._onClickMenu(event);\r\n        }\r\n    }\r\n\r\n    onMouseOver(event) {\r\n        if(this.isDisabled(event.target)) return;\r\n\r\n        let $target = this.getClosestNode(event.target);\r\n\r\n        if(this._timer) {\r\n            clearTimeout(this._timer);\r\n            this._timer = null;\r\n        }\r\n\r\n        if($target[0].contains(event.relatedTarget)) return;\r\n\r\n        if(this.isMenuItem($target)) {\r\n            return this._onMouseOverMenuItem(event);\r\n        } else if(this.isMenu($target)) {\r\n            return this._onMouseOverMenu(event);\r\n        }\r\n    }\r\n\r\n    onMouseOut(event) {\r\n        if(this.isDisabled(event.target)) return;\r\n\r\n        // If the mouse leaves the root item and timeout is set start the timer.\r\n        if(!this._timer && typeof this.timeout === 'number' && this.timeout >= 0 && !this.$element[0].contains(event.relatedTarget)) {\r\n            this._timer = setTimeout(() => {\r\n                this._timer = null;\r\n                this.deactivate(this.$element);\r\n            }, this.timeout);\r\n        }\r\n\r\n        const $target = this.getClosestNode(event.target);\r\n\r\n        if($target[0].contains(event.relatedTarget)) return;\r\n\r\n        if(this.isMenuItem($target)) {\r\n            return this._onMouseOutMenuItem(event);\r\n        } else if(this.isMenu($target)) {\r\n            return this._onMouseOutMenu(event);\r\n        }\r\n    }\r\n\r\n    onDocumentClick(event) {\r\n        if(!this.$element[0].contains(event.target)) {\r\n            this.$doc.off('click', this._onDocumentClick);\r\n            this.$doc = null;\r\n            this.deactivate(this.$element);\r\n        } else if(!this.isActive(this.$element)) {\r\n            this.$doc = null;\r\n            this.deactivate(this.$element);\r\n        }\r\n    }\r\n\r\n    onSelect() {\r\n        if(this.isActive(this.$element) && this.closeOnSelect) {\r\n            this.deactivate(this.$element);\r\n        }\r\n    }\r\n\r\n    _onClickMenuItem(event) {\r\n        const $target = this.getClosestNode(event.target),\r\n            type = this.getNodeType($target),\r\n            isActive = this.isActive($target),\r\n            $parent = this.getParentNode($target, 'menu'),\r\n            toggle = this.getItemToggle($parent, $target);\r\n\r\n        if(type === 'item') {\r\n            if(this.getSelectable($target)) {\r\n                this.select($target);\r\n            }\r\n        } else {\r\n            if(!isActive && (toggle === 'both' || toggle === true || toggle === 'on')) {\r\n                this.activate($target);\r\n            } else if(isActive && (toggle === 'off' || toggle === 'both' || toggle === true)) {\r\n                this.deactivate($target);\r\n            }\r\n        }\r\n    }\r\n\r\n    _onMouseOverMenuItem(event) {\r\n        const $target = this.getClosestNode(event.target),\r\n            $parent = this.getParentNode($target, 'menu');\r\n\r\n        if(!this.isActive($target)) {\r\n            let delay = this.getItemActivationDelay($parent, $target);\r\n            let timer = this.activate($target, delay);\r\n\r\n            if(timer && timer.cancel) {\r\n                let cancel = (event) => {\r\n                    if(!$target[0].contains(event.relatedTarget)) {\r\n                        timer.cancel();\r\n                    }\r\n                };\r\n\r\n                $target.on('mouseout', cancel);\r\n\r\n                timer.then(() => {\r\n                    $target.off('mouseout', cancel);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    _onMouseOutMenuItem(event) {\r\n        const $target = this.getClosestNode(event.target);\r\n\r\n        if(!this.isDropDown($target)) {\r\n            this.deactivate($target);\r\n        }\r\n    }\r\n\r\n    _onClickMenu(event) {\r\n        const $target = this.getClosestNode(event.target),\r\n            toggle = parseBooleanString($target.data('menuToggle'));\r\n\r\n        if(this.isActive($target)) {\r\n            if(toggle === 'off' || toggle === 'both' || toggle === true) {\r\n                this.deactivate($target);\r\n            }\r\n        } else {\r\n            if(toggle === 'on' || toggle === 'both' || toggle === true) {\r\n                this.activate($target);\r\n            }\r\n        }\r\n    }\r\n\r\n    _onMouseOverMenu(event) {\r\n\r\n    }\r\n\r\n    _onMouseOutMenu(event) {\r\n\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Getter functions\r\n\r\n    getItemToggle(menu, item) {\r\n        menu = $(menu);\r\n        item = $(item);\r\n\r\n        let toggle = firstValue([\r\n            item.data('toggle'),\r\n            menu.data('toggleItems'),\r\n            'both'\r\n        ]);\r\n\r\n        if(toggle === 'true' || toggle === 'false') {\r\n            return toggle === 'true';\r\n        } else {\r\n            return toggle;\r\n        }\r\n    }\r\n\r\n    getMenuOpenDelay(menu) {\r\n        menu = $(menu);\r\n        let value = menu.data('openDelay');\r\n\r\n        if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else if(typeof value === 'number') {\r\n            return parseInteger(value, null, 10);\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    getItemActivationDelay(menu, item) {\r\n        menu = $(menu);\r\n        item = $(item);\r\n\r\n        let isParentActive = this.isActive(menu);\r\n\r\n        if(!isParentActive) {\r\n            let value = firstValue([\r\n                item.data('autoActivate'),\r\n                menu.data('autoActivate'),\r\n                0\r\n            ]);\r\n\r\n            if(value === 'true' || value === 'false') {\r\n                return value !== 'true';\r\n            } else if(typeof value === 'string') {\r\n                return parseInt(value, 10);\r\n            } else if(typeof value === 'boolean') {\r\n                return !value;\r\n            } else {\r\n                return value;\r\n            }\r\n        } else {\r\n            let delay = firstValue(\r\n                [\r\n                    item.data('delay'),\r\n                    menu.data('itemDelay'),\r\n                    false\r\n                ]\r\n            );\r\n\r\n            if(delay === 'true' || delay === 'false') {\r\n                return delay === 'true';\r\n            } else if(typeof delay === 'string') {\r\n                return parseInt(delay, 10);\r\n            } else {\r\n                return delay;\r\n            }\r\n        }\r\n    }\r\n\r\n    getMultiple(menu) {\r\n        return parseBoolean($(menu).data(\"multiple\"), false);\r\n    }\r\n\r\n    getSelectable(item) {\r\n        let value = $(item).data(\"selectable\");\r\n\r\n        if(value === undefined || value === null) {\r\n            return true;\r\n        } else if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    getPositioner(menu) {\r\n        menu = $(menu);\r\n        let value = firstValue([\r\n            menu.data(\"positioner\"),\r\n            this.$element.data(\"positioner\")\r\n        ]);\r\n\r\n        if(typeof value === 'string') {\r\n            return POSITIONER_REGISTRY[value];\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    //------------------------------------------------------------------------------------------------------------------\r\n    // Properties\r\n\r\n    get timeout() {\r\n        let value = this.$element.data(\"timeout\");\r\n\r\n        if(typeof value === 'string') {\r\n            value = parseInt(value, 10);\r\n\r\n            if(!Number.isNaN(value) && value >= 0) {\r\n                return value;\r\n            }\r\n        } else if(typeof value === 'number') {\r\n            if(value >= 0 && !Number.isNaN(value)) {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    get closeOnBlur() {\r\n        let value = this.$element.data(\"closeOnBlur\");\r\n\r\n        if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else if(value !== undefined && value !== null) {\r\n            return value;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    get closeOnSelect() {\r\n        let value = this.$element.data(\"closeOnSelect\");\r\n\r\n        if(value === 'true' || value === 'false') {\r\n            return value === 'true';\r\n        } else if(value !== undefined && value !== null) {\r\n            return value;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nMenu.EVENTS = EVENTS;\r\nMenu.PREFIX = PREFIX;\r\nMenu.CONTROLLER = CONTROLLER;\r\nMenu.CLASSNAMES = CLASSNAMES;\r\nMenu.SELECTORS = SELECTORS;\r\nMenu.POSITIONER_REGISTRY = POSITIONER_REGISTRY;\r\n","export const PREFIX = 'menus.',\r\n    CONTROLLER = `${PREFIX}menu`;\r\n\r\n\r\nexport const SELECTORS = {\r\n    menu: \"[data-role~='menu']\",\r\n    item: \"[data-role~='item']\",\r\n    dropdown: \"[data-role~='dropdown']\"\r\n};\r\n\r\n\r\nSELECTORS.all = `${SELECTORS.menu}, ${SELECTORS.item}, ${SELECTORS.dropdown}`;\r\nSELECTORS.menuitem = `${SELECTORS.item}, ${SELECTORS.dropdown}`;\r\n\r\n\r\nexport const CLASSNAMES = {\r\n    open: 'open',\r\n    active: 'active',\r\n    disabled: 'disabled'\r\n};\r\n\r\n\r\nexport const EVENTS = {\r\n    select: `${PREFIX}select`,\r\n    activate: `${PREFIX}activate`,\r\n    deactivate: `${PREFIX}deactivate`,\r\n    open: `${PREFIX}open`,\r\n    close: `${PREFIX}close`\r\n};\r\n\r\n\r\nexport function addRole(element, ...roles) {\r\n    element = $(element);\r\n    let r = getRoles(element);\r\n\r\n    for(let item of roles) {\r\n        let i = r.indexOf(item);\r\n\r\n        if(i === -1) {\r\n            r.push(item);\r\n        }\r\n    }\r\n\r\n    r = r.join(' ');\r\n    element.attr(\"data-role\", r);\r\n    return r;\r\n}\r\n\r\n\r\nexport function removeRole(element, ...roles) {\r\n    element = $(element);\r\n    let r = getRoles(element);\r\n\r\n    for(let item of roles) {\r\n        let i = r.indexOf(item);\r\n\r\n        if(i !== -1) {\r\n            r.splice(i, 1);\r\n        }\r\n    }\r\n\r\n    r = r.join(' ');\r\n    element.attr(\"data-role\", r);\r\n    return r;\r\n}\r\n\r\n\r\nexport function hasRoles(element, ...roles) {\r\n    element = $(element);\r\n    let r = getRoles(element);\r\n\r\n    for(let item of roles) {\r\n        let i = r.indexOf(item);\r\n\r\n        if(i === -1) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n\r\nexport function getRoles(element) {\r\n    element = $(element);\r\n    let r = element.attr(\"data-role\");\r\n\r\n    if(!r) {\r\n        r = [];\r\n    } else {\r\n        r = r.split('/s+/');\r\n    }\r\n\r\n    return r;\r\n}\r\n","import Menu from './Menu';\r\nimport './loaders';\r\n\r\n\r\nexport {\r\n    Menu,\r\n}\r\n\r\n\r\nwindow.Menu = Menu;\r\n\r\n","import Loader from '../loader';\r\nimport Menu from './Menu';\r\nimport {setDefaultValues} from '../utility';\r\n\r\n\r\nLoader.register('menu', (target, config) => {\r\n    config.target = target;\r\n    return new Menu(config);\r\n});\r\n\r\n\r\nLoader.register('dropdown', (target, config) => {\r\n    config.role = \"dropdown\";\r\n    config.target = target;\r\n    let r = new Menu(config);\r\n\r\n    setDefaultValues(r.$element.data(), {\r\n        timeout: false,\r\n        closeOnBlur: true,\r\n        closeOnSelect: true,\r\n        toggle: true,\r\n        autoActivate: false\r\n    });\r\n\r\n    return r;\r\n});\r\n","const nill = {};\r\n\r\n\r\nexport function clamp(value, minValue=null, maxValue=null) {\r\n    if(minValue !== null) {\r\n        value = Math.max(value, minValue);\r\n    }\r\n\r\n    if(maxValue !== null) {\r\n        value = Math.min(value, maxValue);\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\nexport function firstValue(args) {\r\n    for(let item of args) {\r\n        if(item !== null && item !== undefined) {\r\n            return item;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function parseInteger(value, defaultValue=null, radix=10) {\r\n    value = parseInt(value, radix);\r\n\r\n    if(Number.isNaN(value)) {\r\n        return defaultValue;\r\n    } else {\r\n        return value;\r\n    }\r\n}\r\n\r\n\r\nexport function parseBoolean(value, defaultValue=null) {\r\n    if(typeof value === 'string') {\r\n        if(value === 'true') {\r\n            return true;\r\n        } else if(value === 'false') {\r\n            return false;\r\n        } else {\r\n            return defaultValue;\r\n        }\r\n    } else {\r\n        return !!value;\r\n    }\r\n}\r\n\r\n\r\nexport function parseBooleanString(value) {\r\n    if(value === 'true') {\r\n        return true;\r\n    } else if(value === 'false') {\r\n        return false;\r\n    } else {\r\n        return value;\r\n    }\r\n}\r\n\r\n\r\nexport function parseBooleanOrNumber(value, defaultValue=null, radix=10) {\r\n    if(value === 'true' || value === 'false') {\r\n        return value === 'true';\r\n    } else if(typeof value === 'boolean') {\r\n        return value;\r\n    } else {\r\n        return parseInteger(value, defaultValue, radix);\r\n    }\r\n}\r\n\r\n\r\nexport function setDefaultValues(target, defaults) {\r\n    for(let key in defaults) {\r\n        if(defaults.hasOwnProperty(key) && (!target.hasOwnProperty(key) || target[key] === undefined)) {\r\n            target[key] = defaults[key];\r\n        }\r\n    }\r\n}\r\n","module.exports = jQuery;"],"sourceRoot":""}